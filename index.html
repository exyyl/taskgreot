
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Task Greot | –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –∑–∞–¥–∞–Ω–∏–π</title>
    <link rel="icon" href="https://raw.githubusercontent.com/exyyl/-taskgreot/main/taskgreot.JPG">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        :root {
            --bg-deep: #16172b;
            --topbar-height: calc(60px + env(safe-area-inset-top));
            --bottom-nav-height: calc(84px + env(safe-area-inset-bottom));
            --bg-card: rgba(254, 254, 254, 0.07);
            --text-light: #ffffff;
            --text-dark: #1a1e2b;
            --text-muted: #a0a5c0;
            --accent-green: #32ad5d;
            --accent-green-glow: rgba(50, 173, 93, 0.3);
            --accent-purple: #9d4edd;
            --accent-purple-glow: rgba(157, 78, 221, 0.3);
            --border-glass: rgba(255, 255, 255, 0.1);
            --success: #32ad5d;
            --danger: #ef4444;
            --warning: #f59e0b;
            --info: #3b82f6;
            --gradient-green: linear-gradient(135deg, var(--accent-green), #4ade80);
            --gradient-purple: linear-gradient(135deg, var(--accent-purple), #c084fc);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        html, body {
            height: 100%;
            overflow: hidden;
            -webkit-overflow-scrolling: touch;
            scroll-behavior: smooth;
            font-family: 'Inter', sans-serif;
            background: var(--bg-deep);
            color: var(--text-light);
            position: relative;
            font-size: 16px;
        }

        body::before {
            content: '';
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: 
                radial-gradient(circle at 70% 30%, rgba(157, 78, 221, 0.15) 0%, transparent 30%),
                radial-gradient(circle at 30% 70%, rgba(50, 173, 93, 0.1) 0%, transparent 30%);
            z-index: -1;
            pointer-events: none;
        }

        .container {
            position: fixed;
            inset: 0 0 0 0;
            max-width: 100%;
            display: flex;
            flex-direction: column;
            padding-top: var(--topbar-height);
            padding-bottom: var(--bottom-nav-height);
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
            scroll-behavior: smooth;
            touch-action: pan-y;
            scrollbar-width: none;
            -ms-overflow-style: none;
            -webkit-transform: translateZ(0);
            transform: translateZ(0);
            will-change: scroll-position;
        }

        body.platform-android .container {
            position: relative;
            -webkit-transform: none;
            transform: none;
            will-change: auto;
            overscroll-behavior: contain;
            overflow: visible;
            height: auto;
            touch-action: auto;
            -webkit-overflow-scrolling: touch;
            overscroll-behavior: auto;
        }

        body.platform-android .top-bar {
            padding-right: calc(20px + 48px + env(safe-area-inset-right));
        }

        body.platform-android, body.platform-android html, body.platform-android body {
            touch-action: auto !important;
            -webkit-overflow-scrolling: touch !important;
            overscroll-behavior: auto !important;
            overflow: auto !important;
            height: auto !important;
        }

        .top-bar-content > * { min-width: 0; }
        .logo-small { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: 60%; flex-shrink: 1; }
        .balance-mini { flex-shrink: 0; }

        .container::-webkit-scrollbar {
            display: none;
        }

        .top-bar { z-index: 1100; }
        .tab-navigation { z-index: 1050; }

        .top-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: calc(60px + env(safe-area-inset-top));
            background: rgba(22, 23, 43, 0.9);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border-bottom: 1px solid var(--border-glass);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding-top: env(safe-area-inset-top);
            padding-left: 20px;
            padding-right: 20px;
            transform: translateY(0);
            transition: transform 0.3s ease;
        }

        .top-bar.visible {
            transform: translateY(0);
        }

        .top-bar-content {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: space-between;
            max-width: 1200px;
            width: 100%;
        }

        .logo-small {
            font-size: clamp(1.4rem, 5vw, 1.8rem);
            font-weight: 900;
            background: linear-gradient(90deg, var(--accent-purple), var(--accent-green));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            max-width: 60%;
            flex: 1;
            min-width: 0;
        }

        /* Top-bar user display (avatar + name) */
        .topbar-user {
            display: flex;
            align-items: center;
            gap: 10px;
            max-width: 60%;
            overflow: hidden;
        }

        .topbar-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(90deg, var(--accent-purple), var(--accent-green));
            flex-shrink: 0;
            font-weight: 700;
            color: white;
        }

        .topbar-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .topbar-name {
            font-weight: 700;
            color: var(--text-light);
            font-size: clamp(0.95rem, 3.5vw, 1rem);
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            min-width: 0;
            max-width: calc(100% - 48px);
        }

        .balance-mini {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(50, 173, 93, 0.15);
            padding: 8px 16px;
            border-radius: 20px;
            border: 1px solid rgba(50, 173, 93, 0.3);
            box-shadow: 0 0 15px var(--accent-green-glow);
            flex-shrink: 0;
        }

        .balance-mini-value {
            font-weight: 700;
            font-size: clamp(0.9rem, 4vw, 1rem);
            color: var(--accent-green);
        }

        .balance-mini i {
            color: var(--accent-green);
            font-size: 0.9rem;
        }

        header {
            text-align: center;
            padding: clamp(20px, 5vw, 40px) clamp(16px, 4vw, 20px) clamp(20px, 5vw, 30px);
        }

        .logo {
            font-size: clamp(2.4rem, 8vw, 3.2rem);
            font-weight: 900;
            background: linear-gradient(90deg, var(--accent-purple), var(--accent-green));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin-bottom: 8px;
            letter-spacing: -1px;
            text-shadow: 0 0 20px var(--accent-purple-glow);
        }

        .tagline {
            color: var(--text-muted);
            font-size: clamp(0.9rem, 3.5vw, 1.05rem);
            font-weight: 400;
            letter-spacing: 0.5px;
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.4;
            padding: 0 10px;
        }

        .glass-card {
            background: var(--bg-card);
            backdrop-filter: blur(15px) saturate(180%);
            -webkit-backdrop-filter: blur(15px) saturate(180%);
            border-radius: 28px;
            border: 1px solid var(--border-glass);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .glass-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
        }

        .tab-navigation {
            position: fixed;
            bottom: calc(20px + env(safe-area-inset-bottom));
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            background: rgba(22, 23, 43, 0.9);
            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            padding: 12px;
            border-radius: 30px;
            border: 1px solid var(--border-glass);
            z-index: 100;
            width: calc(100% - 40px);
            max-width: 400px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.25);
        }

        .sub-tab-navigation {
            display: flex;
            gap: 8px;
            margin: 18px 0;
            justify-content: center;
            flex-wrap: wrap;
        }

        .sub-tab {
            padding: 8px 14px;
            border-radius: 20px;
            background: rgba(255,255,255,0.03);
            color: var(--text-muted);
            border: 1px solid transparent;
            cursor: pointer;
            font-weight: 600;
            font-size: clamp(0.85rem, 3.5vw, 1rem);
            transition: all 0.2s ease;
            white-space: nowrap;
        }

        .sub-tab.active {
            background: rgba(50, 173, 93, 0.15);
            color: var(--accent-green);
            border-color: rgba(50, 173, 93, 0.3);
            box-shadow: 0 0 15px var(--accent-green-glow);
        }

        .tab-btn {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 12px 5px;
            border: none;
            background: transparent;
            color: var(--text-muted);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            font-size: clamp(0.75rem, 3vw, 0.85rem);
        }

        .tab-btn i {
            font-size: clamp(1.2rem, 5vw, 1.3rem);
            margin-bottom: 6px;
            transition: all 0.3s ease;
        }

        .tab-btn.active {
            background: rgba(50, 173, 93, 0.15);
            color: var(--accent-green);
            box-shadow: 0 0 20px var(--accent-green-glow);
        }

        .tab-btn.active i {
            transform: scale(1.1);
            color: var(--accent-green);
        }

        .tab-content {
            display: none;
            flex: 1;
            animation: fadeIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            padding: 0 16px;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .tasks-section { 
            max-width: none; 
            width: 100%; 
            margin: 0 auto; 
        }
        
        .tasks-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: clamp(12px, 3vw, 20px);
            margin-top: 16px;
            margin-bottom: 40px;
            width: 100%;
        }

        /* –†–ê–°–®–ò–†–ï–ù–ù–´–ï –ö–ê–†–¢–û–ß–ö–ò –ó–ê–î–ê–ù–ò–ô */
        .task-card {
            position: relative;
            overflow: hidden;
            padding: clamp(16px, 4vw, 24px);
            border-radius: 28px;
            display: flex;
            flex-direction: column;
            gap: 16px;
            transition: all 0.25s ease;
            background: rgba(254, 254, 254, 0.03);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid var(--border-glass);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
            color: var(--text-light);
        }

        .task-card:hover {
            transform: translateY(-4px);
            border-color: rgba(50, 173, 93, 0.3);
            background: rgba(254, 254, 254, 0.05);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.25);
        }

        .task-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: var(--accent-green);
            opacity: 0;
            transition: opacity 0.2s;
        }

        .task-card:hover::before {
            opacity: 0.6;
        }

        .task-row {
            display: flex;
            gap: clamp(12px, 3vw, 18px);
            align-items: flex-start;
        }

        .task-icon {
            width: clamp(48px, 12vw, 64px);
            height: clamp(48px, 12vw, 64px);
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(50, 173, 93, 0.1);
            border-radius: 20px;
            font-size: clamp(1.4rem, 5vw, 2rem);
            color: var(--accent-green);
            border: 1px solid rgba(50, 173, 93, 0.3);
            flex-shrink: 0;
        }

        .task-content {
            flex: 1;
            min-width: 0;
        }

        .task-title {
            font-size: clamp(1rem, 4vw, 1.2rem);
            font-weight: 700;
            margin: 0 0 6px 0;
            color: var(--text-light);
            line-height: 1.3;
            word-wrap: break-word;
        }

        .task-desc {
            color: var(--text-muted);
            font-size: clamp(0.85rem, 3.5vw, 0.95rem);
            line-height: 1.5;
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
            word-wrap: break-word;
        }

        .task-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 8px;
            padding-top: 16px;
            border-top: 1px solid var(--border-glass);
            gap: 12px;
            flex-wrap: wrap;
        }

        .task-reward {
            color: var(--accent-green);
            font-weight: 700;
            font-size: clamp(0.95rem, 4vw, 1.1rem);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(50, 173, 93, 0.1);
            padding: 8px 18px;
            border-radius: 30px;
            border: 1px solid rgba(50, 173, 93, 0.2);
            white-space: nowrap;
        }

        .task-reward i {
            font-size: 0.95rem;
            color: var(--accent-green);
        }

        .task-action {
            background: var(--gradient-green);
            color: white;
            border: none;
            padding: clamp(10px, 3vw, 12px) clamp(20px, 6vw, 28px);
            border-radius: 30px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 6px 16px var(--accent-green-glow);
            font-size: clamp(0.9rem, 3.5vw, 1rem);
            display: inline-flex;
            align-items: center;
            gap: 8px;
            white-space: nowrap;
        }

        .task-action.exit-mini-app {
            background: var(--gradient-green);
        }

        .task-action:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(50, 173, 93, 0.4);
        }

        .task-action:active {
            transform: translateY(0);
        }

        .profile-header {
            display: flex;
            align-items: center;
            gap: clamp(16px, 4vw, 24px);
            padding: clamp(20px, 5vw, 32px);
            margin-bottom: 24px;
            background: rgba(254, 254, 254, 0.05);
            border-radius: 28px;
            border: 1px solid var(--border-glass);
            flex-wrap: wrap;
        }

        .avatar {
            width: clamp(80px, 20vw, 110px);
            height: clamp(80px, 20vw, 110px);
            border-radius: 50%;
            background: var(--gradient-purple);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: clamp(2rem, 7vw, 2.8rem);
            color: white;
            overflow: hidden;
            border: 4px solid rgba(255, 255, 255, 0.15);
            flex-shrink: 0;
            box-shadow: 0 15px 35px var(--accent-purple-glow);
        }

        .avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .profile-info {
            flex: 1;
            min-width: 200px;
        }

        .profile-info h2 {
            font-size: clamp(1.4rem, 5vw, 1.8rem);
            margin-bottom: 6px;
            color: white;
            font-weight: 800;
            letter-spacing: -0.3px;
            word-wrap: break-word;
        }

        .profile-info p {
            color: var(--text-muted);
            font-size: clamp(0.9rem, 3.5vw, 1rem);
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
        }

        .level-badge {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: rgba(50, 173, 93, 0.15);
            color: var(--accent-green);
            padding: 8px 18px;
            border-radius: 30px;
            font-weight: 700;
            font-size: clamp(0.85rem, 3.5vw, 0.9rem);
            border: 1px solid rgba(50, 173, 93, 0.3);
            margin-top: 12px;
            box-shadow: 0 0 15px var(--accent-green-glow);
            flex-wrap: wrap;
        }

        .balance-card {
            padding: clamp(24px, 6vw, 36px) clamp(20px, 5vw, 32px);
            text-align: center;
            margin-bottom: 24px;
            background: rgba(254, 254, 254, 0.05);
            border-radius: 28px;
            border: 1px solid var(--border-glass);
            position: relative;
            overflow: hidden;
        }

        .balance-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at 20% 30%, rgba(50, 173, 93, 0.1), transparent 50%);
            pointer-events: none;
        }

        .balance-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 12px;
        }

        .balance-label {
            display: flex;
            align-items: center;
            gap: 12px;
            color: var(--text-muted);
            font-size: clamp(1rem, 4vw, 1.1rem);
            font-weight: 500;
        }

        .refresh-btn {
            background: rgba(50, 173, 93, 0.15);
            border: 1px solid rgba(50, 173, 93, 0.3);
            color: var(--accent-green);
            width: clamp(44px, 10vw, 48px);
            height: clamp(44px, 10vw, 48px);
            border-radius: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: clamp(1.2rem, 5vw, 1.3rem);
            transition: all 0.3s ease;
            box-shadow: 0 0 15px var(--accent-green-glow);
        }

        .refresh-btn:hover {
            background: rgba(50, 173, 93, 0.25);
            transform: rotate(30deg);
        }

        .refresh-btn.loading {
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        .balance-amount {
            font-size: clamp(3rem, 12vw, 4.2rem);
            font-weight: 900;
            background: var(--gradient-green);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            margin: 15px 0;
            text-shadow: 0 0 30px var(--accent-green-glow);
            letter-spacing: -1px;
            word-wrap: break-word;
        }

        .balance-subtext {
            color: var(--text-muted);
            margin-bottom: 24px;
            font-size: clamp(0.9rem, 3.5vw, 1rem);
        }

        .withdraw-btn {
            background: var(--gradient-green);
            color: white;
            border: none;
            padding: clamp(14px, 4vw, 18px) clamp(24px, 8vw, 36px);
            border-radius: 40px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            max-width: 280px;
            font-size: clamp(1rem, 4vw, 1.1rem);
            letter-spacing: 0.5px;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px var(--accent-green-glow);
            margin: 0 auto;
        }

        .withdraw-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 30px rgba(50, 173, 93, 0.5);
        }

        .balance-info {
            margin-top: 20px;
            font-size: 0.85rem;
            color: var(--text-muted);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: clamp(12px, 3vw, 18px);
            margin-bottom: 32px;
        }

        .stat-card {
            padding: clamp(20px, 5vw, 28px) clamp(16px, 4vw, 22px);
            text-align: center;
            transition: all 0.3s ease;
            background: rgba(254, 254, 254, 0.05);
            border-radius: 24px;
            border: 1px solid var(--border-glass);
        }

        .stat-card:hover {
            transform: translateY(-3px);
        }

        .stat-value {
            font-size: clamp(2rem, 8vw, 2.4rem);
            font-weight: 800;
            color: var(--accent-green);
            margin-bottom: 8px;
            text-shadow: 0 0 20px var(--accent-green-glow);
        }

        .stat-label {
            color: var(--text-muted);
            font-size: clamp(0.85rem, 3.5vw, 0.95rem);
            font-weight: 500;
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(15px) saturate(200%);
            -webkit-backdrop-filter: blur(15px) saturate(200%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
        }

        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: rgba(254, 254, 254, 0.07);
            backdrop-filter: blur(30px) saturate(180%);
            -webkit-backdrop-filter: blur(30px) saturate(180%);
            border-radius: 40px;
            border: 1px solid var(--border-glass);
            padding: clamp(24px, 6vw, 36px);
            width: 90%;
            max-width: 420px;
            max-height: 90vh;
            overflow-y: auto;
            transform: translateY(20px) scale(0.98);
            transition: transform 0.3s ease;
            box-shadow: 0 25px 70px rgba(0, 0, 0, 0.5);
            margin: auto;
        }

        .modal-overlay.active .modal-content {
            transform: translateY(0) scale(1);
        }

        .modal-header {
            margin-bottom: 24px;
            text-align: center;
        }

        .modal-header h2 {
            font-size: clamp(1.6rem, 6vw, 2rem);
            font-weight: 800;
            color: white;
            margin-bottom: 10px;
            letter-spacing: -0.3px;
        }

        .modal-header p {
            color: var(--text-muted);
            font-size: clamp(0.95rem, 4vw, 1.05rem);
        }

        .method-selection {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: clamp(8px, 2vw, 16px);
            margin-bottom: 24px;
        }

        .method-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: clamp(12px, 4vw, 22px) clamp(8px, 3vw, 14px);
            background: rgba(255, 255, 255, 0.03);
            border: 2px solid var(--border-glass);
            border-radius: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .method-option:hover {
            background: rgba(255, 255, 255, 0.05);
            border-color: var(--accent-green);
            transform: translateY(-2px);
        }

        .method-option.active {
            background: rgba(50, 173, 93, 0.1);
            border-color: var(--accent-green);
            box-shadow: 0 0 20px var(--accent-green-glow);
        }

        .method-icon {
            width: clamp(40px, 10vw, 60px);
            height: clamp(40px, 10vw, 60px);
            border-radius: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: clamp(1.5rem, 5vw, 2rem);
            color: white;
            margin-bottom: 10px;
        }

        .sbp-icon {
            background: linear-gradient(135deg, #1E88E5, #0D47A1);
        }

        .stars-icon {
            background: linear-gradient(135deg, #FF6B6B, #FF5252);
        }

        .crypto-icon {
            background: linear-gradient(135deg, #FFD93D, #FFB800);
        }

        .method-name {
            font-size: clamp(0.9rem, 3.5vw, 1rem);
            font-weight: 700;
            color: white;
            margin-bottom: 4px;
        }

        .method-min {
            color: var(--warning);
            font-size: 0.8rem;
            font-weight: 600;
        }

        .input-group {
            margin-bottom: 20px;
        }

        .input-group label {
            display: block;
            color: var(--text-muted);
            font-size: clamp(0.9rem, 3.5vw, 1rem);
            margin-bottom: 8px;
            font-weight: 500;
        }

        .input-group input, .input-group select {
            width: 100%;
            padding: clamp(12px, 3vw, 16px) clamp(14px, 4vw, 18px);
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--border-glass);
            border-radius: 20px;
            color: white;
            font-size: clamp(0.95rem, 4vw, 1.05rem);
            font-family: 'Inter', sans-serif;
            transition: all 0.3s ease;
        }

        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: var(--accent-green);
            background: rgba(255, 255, 255, 0.08);
        }

        .phone-input {
            position: relative;
        }

        .phone-prefix {
            position: absolute;
            left: 18px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            font-size: 1rem;
            pointer-events: none;
        }

        .phone-input input {
            padding-left: 42px;
        }

        .withdraw-submit {
            background: var(--gradient-green);
            color: white;
            border: none;
            padding: clamp(14px, 4vw, 18px);
            border-radius: 40px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            font-size: clamp(1rem, 4vw, 1.1rem);
            transition: all 0.3s ease;
            margin-top: 20px;
            box-shadow: 0 8px 25px var(--accent-green-glow);
        }

        .withdraw-submit:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(50, 173, 93, 0.5);
        }

        .withdraw-submit:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .close-modal {
            position: absolute;
            top: max(16px, env(safe-area-inset-top));
            right: max(16px, env(safe-area-inset-right));
            background: none;
            border: none;
            color: var(--text-muted);
            font-size: 1.5rem;
            cursor: pointer;
            width: 44px;
            height: 44px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s ease;
            z-index: 10;
        }

        .close-modal:hover {
            background: rgba(255, 255, 255, 0.05);
            color: white;
        }

        .withdraw-step {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .withdraw-step.active {
            display: block;
        }

        .step-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .step-back {
            background: none;
            border: none;
            color: var(--text-muted);
            font-size: 1.2rem;
            cursor: pointer;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s ease;
            margin-right: 12px;
        }

        .step-back:hover {
            background: rgba(255, 255, 255, 0.05);
            color: white;
        }

        .step-title {
            flex: 1;
            font-size: clamp(1.3rem, 5vw, 1.6rem);
            font-weight: 800;
            color: white;
            letter-spacing: -0.2px;
        }

        .step-description {
            color: var(--text-muted);
            margin-bottom: 24px;
            line-height: 1.5;
            font-size: clamp(0.95rem, 4vw, 1.05rem);
        }

        .withdraw-info {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 24px;
            padding: 20px;
            margin-bottom: 24px;
        }

        .withdraw-info-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            font-size: 1rem;
        }

        .withdraw-info-item:last-child {
            margin-bottom: 0;
        }

        .withdraw-info-label {
            color: var(--text-muted);
        }

        .withdraw-info-value {
            color: white;
            font-weight: 600;
        }

        .stars-conversion {
            color: var(--warning);
            font-size: 0.9rem;
            text-align: center;
            margin-top: 12px;
            font-weight: 500;
        }

        .info-sections {
            margin-bottom: 30px;
        }

        .info-section {
            padding: clamp(20px, 5vw, 32px);
            margin-bottom: 20px;
            cursor: pointer;
            background: rgba(254, 254, 254, 0.05);
            border-radius: 24px;
            border: 1px solid var(--border-glass);
        }

        .info-section h2 {
            font-size: clamp(1.3rem, 5vw, 1.7rem);
            margin-bottom: 16px;
            color: white;
            font-weight: 800;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 12px;
        }

        .info-section h2 i {
            color: var(--accent-green);
            transition: transform 0.3s ease;
        }

        .info-section:hover h2 i {
            transform: translateX(5px);
        }

        .info-content {
            color: var(--text-muted);
            line-height: 1.6;
            font-size: clamp(0.95rem, 3.5vw, 1.05rem);
        }

        .info-content p {
            margin-bottom: 16px;
        }

        .highlight {
            background: rgba(50, 173, 93, 0.1);
            border-left: 4px solid var(--accent-green);
            padding: 16px 20px;
            border-radius: 12px;
            margin: 16px 0;
            color: var(--text-light);
            font-weight: 500;
        }

        .faq-item {
            padding: clamp(16px, 4vw, 26px);
            margin-bottom: 12px;
            cursor: pointer;
            background: rgba(254, 254, 254, 0.05);
            border-radius: 20px;
            border: 1px solid var(--border-glass);
        }

        .faq-item:hover {
            background: rgba(255, 255, 255, 0.03);
        }

        .faq-question {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-weight: 700;
            color: white;
            font-size: clamp(1rem, 4vw, 1.1rem);
            gap: 12px;
        }

        .faq-question i {
            transition: transform 0.3s ease;
            color: var(--text-muted);
        }

        .faq-item.active .faq-question i {
            transform: rotate(180deg);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            color: var(--text-muted);
            line-height: 1.6;
            transition: max-height 0.3s ease;
            font-size: clamp(0.95rem, 3.5vw, 1.05rem);
        }

        .faq-item.active .faq-answer {
            max-height: 300px;
            margin-top: 16px;
        }

        .info-modal-content {
            width: 90%;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
        }

        .info-modal-header {
            text-align: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 1px solid var(--border-glass);
        }

        .info-modal-header h2 {
            font-size: clamp(1.8rem, 6vw, 2.2rem);
            font-weight: 800;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .info-modal-body {
            padding: 10px 0;
        }

        .instruction-list {
            color: var(--text-muted);
            line-height: 1.7;
            padding-left: 20px;
            font-size: clamp(0.95rem, 4vw, 1.05rem);
        }

        .instruction-list li {
            margin-bottom: 12px;
        }

        .notification {
            position: fixed;
            top: calc(80px + env(safe-area-inset-top));
            right: max(16px, env(safe-area-inset-right));
            left: max(16px, env(safe-area-inset-left));
            padding: 16px 24px;
            background: rgba(22, 23, 43, 0.98);
            border: 1px solid var(--border-glass);
            border-radius: 30px;
            color: white;
            z-index: 2000;
            transform: translateX(150%);
            transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: 0 15px 45px rgba(0, 0, 0, 0.4);
            max-width: 340px;
            backdrop-filter: blur(25px) saturate(180%);
            -webkit-backdrop-filter: blur(25px) saturate(180%);
            margin: 0 auto;
            text-align: center;
        }

        .notification.show {
            transform: translateX(0);
        }

        .notification.success {
            border-left: 4px solid var(--accent-green);
        }

        .notification.error {
            border-left: 4px solid var(--danger);
        }

        .notification.warning {
            border-left: 4px solid var(--warning);
        }

        .loader {
            display: inline-block;
            width: 22px;
            height: 22px;
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            border-top-color: var(--accent-green);
            animation: spin 1s ease-in-out infinite;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out forwards;
            opacity: 0;
        }

        .fade-in:nth-child(1) { animation-delay: 0.1s; }
        .fade-in:nth-child(2) { animation-delay: 0.2s; }
        .fade-in:nth-child(3) { animation-delay: 0.3s; }

        .exit-mini-app {
            cursor: pointer;
        }

        /* –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å—ã */
        @media (max-width: 768px) {
            .logo { font-size: 2.8rem; }
            .top-bar { height: calc(55px + env(safe-area-inset-top)); }
            .logo-small { font-size: 1.6rem; }
            .balance-mini { padding: 6px 14px; }
            .balance-mini-value { font-size: 0.9rem; }
            header { padding: 30px 20px; }
            .profile-header { flex-direction: column; text-align: center; gap: 20px; padding: 24px; }
            .avatar { width: 95px; height: 95px; font-size: 2.4rem; }
            .profile-info { text-align: center; }
            .profile-info p { justify-content: center; }
            .balance-amount { font-size: 3.6rem; }
            .tab-navigation { padding: 10px; border-radius: 20px; bottom: calc(16px + env(safe-area-inset-bottom)); }
            .modal-content { padding: 28px; width: 95%; }
            .method-selection { gap: 12px; }
            .method-option { padding: 18px 10px; }
            .method-icon { width: 52px; height: 52px; font-size: 1.8rem; }
        }

        @media (max-width: 600px) {
            .tasks-grid { gap: 12px; }
            .task-card { padding: 16px; }
            .task-icon { width: 52px; height: 52px; font-size: 1.6rem; }
            .task-title { font-size: 1.05rem; }
            .task-desc { font-size: 0.9rem; }
        }

        @media (max-width: 480px) {
            .task-footer {
                flex-direction: column;
                align-items: stretch;
            }
            
            .task-reward {
                width: 100%;
                justify-content: center;
            }
            
            .task-action {
                width: 100%;
                justify-content: center;
            }
            
            .method-selection {
                grid-template-columns: 1fr;
            }
            
            .method-option {
                flex-direction: row;
                text-align: left;
                padding: 16px;
                align-items: center;
                gap: 16px;
            }
            
            .method-icon {
                margin-bottom: 0;
            }
        }

        @media (max-width: 360px) {
            .task-row {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }
            
            .task-content {
                text-align: center;
            }
        }

        @supports (padding: max(0px)) {
            .container {
                padding-left: max(16px, env(safe-area-inset-left));
                padding-right: max(16px, env(safe-area-inset-right));
            }
            
            .tab-navigation {
                left: max(16px, env(safe-area-inset-left));
                right: max(16px, env(safe-area-inset-right));
                width: auto;
                transform: none;
                max-width: none;
            }
        }
        /* Speed up animations/transitions globally for snappier UI */
        * {
            transition-duration: 120ms !important;
            transition-delay: 0s !important;
            animation-duration: 160ms !important;
            animation-delay: 0s !important;
            will-change: auto !important;
        }
    </style>
</head>
<body>
    <div class="top-bar" id="top-bar">
        <div class="top-bar-content">
            <div class="logo-small">
                <div class="topbar-user" id="topbar-user">
                    <div class="topbar-avatar" id="topbar-avatar"><img id="topbar-avatar-img" src="" alt="" style="display:none;"></div>
                    <div class="topbar-name" id="topbar-name">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</div>
                </div>
            </div>
            <div class="balance-mini">
                <i class="fas fa-gem"></i>
                <span class="balance-mini-value" id="mini-balance">0</span>
            </div>
        </div>
    </div>

    <div class="container" id="main-container">
        <header>
            <h1 class="logo"><img src="https://raw.githubusercontent.com/exyyl/-taskgreot/main/taskgreot.JPG" alt="Task Greot" style="max-width: 320px; width: 100%; height: auto; object-fit: contain; display:block; margin: 0 auto;"></h1>
            <p class="tagline">–í—ã–ø–æ–ª–Ω—è–π—Ç–µ –∑–∞–¥–∞–Ω–∏—è. –ü–æ–ª—É—á–∞–π—Ç–µ –±–∞–ª–ª—ã. –ú–µ–Ω—è–π—Ç–µ –Ω–∞ –¥–µ–Ω—å–≥–∏ –∏–ª–∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É.</p>
        </header>

        <div id="tasks-tab" class="tab-content active">
            <h2 style="margin-bottom: 12px; font-size: clamp(1.4rem, 5vw, 1.8rem); font-weight: 800; color: white; letter-spacing: -0.3px;">–î–æ—Å—Ç—É–ø–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è</h2>

            <div class="sub-tab-navigation">
                <button class="sub-tab active" data-sub="ordinary">–û–±—ã—á–Ω—ã–µ</button>
                <button class="sub-tab" data-sub="special">–û—Å–æ–±—ã–µ</button>
            </div>

            <div id="ordinary-tasks" class="tasks-section">
                <div class="tasks-grid">
                    <div class="task-card glass-card fade-in" data-task-id="tiktok_comments" data-task-reward="500">
                        <div class="task-row">
                            <div class="task-icon"><i class="fab fa-tiktok"></i></div>
                            <div class="task-content">
                                <h3 class="task-title">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ TikTok</h3>
                                <p class="task-desc">–ù–∞–ø–∏—à–∏—Ç–µ 100 –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ–¥ —Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –≤–∏–¥–µ–æ –≤ TikTok. –ú—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏–º –≥–æ—Ç–æ–≤—ã–µ —à–∞–±–ª–æ–Ω—ã –∏ —Ç–µ–º—ã. –ü—Ä–æ—Å—Ç–æ –∫–æ–ø–∏—Ä—É–π—Ç–µ –∏ –≤—Å—Ç–∞–≤–ª—è–π—Ç–µ!</p>
                            </div>
                        </div>
                        <div class="task-footer">
                            <div class="task-reward">
                                <i class="fas fa-gem"></i> +500 –±–∞–ª–ª–æ–≤
                            </div>
                            <button class="task-action exit-mini-app">
                                <i class="fas fa-play-circle"></i> –ù–∞—á–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ
                            </button>
                        </div>
                    </div>

                    <div class="task-card glass-card fade-in" data-task-id="yandex_reviews" data-task-reward="60">
                        <div class="task-row">
                            <div class="task-icon"><i class="fas fa-map-marker-alt"></i></div>
                            <div class="task-content">
                                <h3 class="task-title">–û—Ç–∑—ã–≤ –Ω–∞ –Ø–Ω–¥–µ–∫—Å –ö–∞—Ä—Ç–∞—Ö</h3>
                                <p class="task-desc">–û—Å—Ç–∞–≤—å—Ç–µ –æ—Ç–∑—ã–≤ –≤ –Ø–Ω–¥–µ–∫—Å –ö–∞—Ä—Ç–∞—Ö –ø–æ –Ω–∞—à–µ–º—É —à–∞–±–ª–æ–Ω—É. –ë—ã—Å—Ç—Ä–æ, –ø—Ä–æ—Å—Ç–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ. –ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∑–∞ 2-3 –º–∏–Ω—É—Ç—ã.</p>
                            </div>
                        </div>
                        <div class="task-footer">
                            <div class="task-reward">
                                <i class="fas fa-gem"></i> +60 –±–∞–ª–ª–æ–≤
                            </div>
                            <button class="task-action exit-mini-app">
                                <i class="fas fa-play-circle"></i> –ù–∞—á–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ
                            </button>
                        </div>
                    </div>

                    <div class="task-card glass-card fade-in" data-task-id="gmail_create" data-task-reward="10">
                        <div class="task-row">
                            <div class="task-icon"><i class="fas fa-envelope"></i></div>
                            <div class="task-content">
                                <h3 class="task-title">–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—á—Ç—ã Gmail</h3>
                                <p class="task-desc">–°–æ–∑–¥–∞–π—Ç–µ –ø–æ—á—Ç–æ–≤—ã–π —è—â–∏–∫ Gmail –ø–æ –Ω–∞—à–∏–º –¥–∞–Ω–Ω—ã–º. –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç–æ–µ –∑–∞–¥–∞–Ω–∏–µ –Ω–∞ 1-2 –º–∏–Ω—É—Ç—ã. –ù–∏–∫–∞–∫–∏—Ö —Å–ª–æ–∂–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π.</p>
                            </div>
                        </div>
                        <div class="task-footer">
                            <div class="task-reward">
                                <i class="fas fa-gem"></i> +10 –±–∞–ª–ª–æ–≤
                            </div>
                            <button class="task-action exit-mini-app">
                                <i class="fas fa-play-circle"></i> –ù–∞—á–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="special-tasks" class="tasks-section" style="display:none;">
                <div class="tasks-grid">
                    <div class="task-card glass-card fade-in" data-task-id="special_verification" data-task-reward="60">
                        <div class="task-row">
                            <div class="task-icon"><i class="fas fa-user-shield"></i></div>
                            <div class="task-content">
                                <h3 class="task-title">–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –æ–ø—Ä–æ—Å –ø–∞—Ä—Ç–Ω—ë—Ä–∞</h3>
                                <p class="task-desc">–ü—Ä–æ–π–¥–∏—Ç–µ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é –≤ –±–æ—Ç–µ –ø–∞—Ä—Ç–Ω—ë—Ä–∞ –∏ –ø—Ä–æ–π–¥–∏—Ç–µ –æ–¥–∏–Ω –æ–ø—Ä–æ—Å. –û–ø–ª–∞—Ç–∞: <b>60 –±–∞–ª–ª–æ–≤</b> + <b>80 ‚ÇΩ</b> –æ—Ç –ø–∞—Ä—Ç–Ω—ë—Ä–∞.</p>
                            </div>
                        </div>
                        <div class="task-footer">
                            <div class="task-reward">
                                <i class="fas fa-gem"></i> +60 –±–∞–ª–ª–æ–≤
                                <span style="margin-left:10px; color:var(--text-muted); font-weight:700;">+80 ‚ÇΩ</span>
                            </div>
                            <button class="task-action exit-mini-app" data-task-id="special_verification" data-task-title="–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –æ–ø—Ä–æ—Å –ø–∞—Ä—Ç–Ω—ë—Ä–∞" data-task-reward="60">
                                <i class="fas fa-play-circle"></i> –ù–∞—á–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ
                            </button>
                        </div>
                    </div>
                </div>

                <div class="glass-card" style="padding:24px; text-align:center; color:var(--text-muted); margin-top:18px;">
                    <h3 style="color:white; margin-bottom:8px; font-size:clamp(1.1rem, 4vw, 1.3rem);">–î—Ä—É–≥–∏–µ –æ—Å–æ–±—ã–µ –∑–∞–¥–∞–Ω–∏—è</h3>
                    <p style="font-size:clamp(0.9rem, 3.5vw, 1rem);">–ó–¥–µ—Å—å –ø–æ—è–≤—è—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ—Å–æ–±—ã–µ –∑–∞–¥–∞–Ω–∏—è –≤ –±—É–¥—É—â–µ–º.</p>
                </div>
            </div>
        </div>

        <div id="info-tab" class="tab-content">
            <div class="info-sections">
                <div class="info-section glass-card fade-in" onclick="openInfoModal('about')">
                    <h2>
                        <span><i class="fas fa-info-circle"></i> –û –ø—Ä–æ–µ–∫—Ç–µ</span>
                        <i class="fas fa-arrow-right"></i>
                    </h2>
                    <div class="info-content">
                        <p><strong>Task Greot</strong> ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–∫—Ä–æ–∑–∞–¥–∞–Ω–∏–π...</p>
                        <div class="highlight">
                            üíé 1 –±–∞–ª–ª = 1 —Ä—É–±–ª—å. –í—ã–≤–æ–¥–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç—É, –≤ Stars –∏–ª–∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É.
                        </div>
                        <p style="color: var(--accent-green); margin-top: 10px; font-weight: 500;">
                            <i class="fas fa-hand-point-up"></i> –ù–∞–∂–º–∏—Ç–µ –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
                        </p>
                    </div>
                </div>

                <div class="info-section glass-card fade-in" onclick="openInfoModal('points')">
                    <h2>
                        <span><i class="fas fa-coins"></i> –ß—Ç–æ —Ç–∞–∫–æ–µ –±–∞–ª–ª—ã?</span>
                        <i class="fas fa-arrow-right"></i>
                    </h2>
                    <div class="info-content">
                        <p><strong>–ë–∞–ª–ª—ã</strong> ‚Äî —ç—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –≤–∞–ª—é—Ç–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã...</p>
                        <p style="color: var(--accent-green); margin-top: 10px; font-weight: 500;">
                            <i class="fas fa-hand-point-up"></i> –ù–∞–∂–º–∏—Ç–µ –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
                        </p>
                    </div>
                </div>

                <div class="info-section glass-card fade-in" onclick="openInfoModal('scam')">
                    <h2>
                        <span><i class="fas fa-shield-alt"></i> –ù–µ —Å–∫–∞–º –ª–∏ —ç—Ç–æ?</span>
                        <i class="fas fa-arrow-right"></i>
                    </h2>
                    <div class="info-content">
                        <p><strong>–ù–µ—Ç, Task Greot ‚Äî –Ω–µ —Å–∫–∞–º.</strong> –ú—ã —Ä–∞–±–æ—Ç–∞–µ–º –ª–µ–≥–∞–ª—å–Ω–æ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ...</p>
                        <p style="color: var(--accent-green); margin-top: 10px; font-weight: 500;">
                            <i class="fas fa-hand-point-up"></i> –ù–∞–∂–º–∏—Ç–µ –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
                        </p>
                    </div>
                </div>

                <div class="info-section glass-card fade-in" onclick="openInfoModal('benefit')">
                    <h2>
                        <span><i class="fas fa-chart-line"></i> –ö–∞–∫–∞—è –Ω–∞—à–∞ –≤—ã–≥–æ–¥–∞?</span>
                        <i class="fas fa-arrow-right"></i>
                    </h2>
                    <div class="info-content">
                        <p>–ù–∞—à–∞ –±–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª—å –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –≤–∑–∞–∏–º–æ–≤—ã–≥–æ–¥–Ω–æ–º —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–µ...</p>
                        <p style="color: var(--accent-green); margin-top: 10px; font-weight: 500;">
                            <i class="fas fa-hand-point-up"></i> –ù–∞–∂–º–∏—Ç–µ –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
                        </p>
                    </div>
                </div>

                <div class="info-section glass-card fade-in">
                    <h2><i class="fas fa-question-circle"></i> –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h2>
                    <div class="faq-item glass-card" onclick="toggleFaq(this)">
                        <div class="faq-question">
                            <span>–ö–∞–∫ –±—ã—Å—Ç—Ä–æ –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –±–∞–ª–ª—ã?</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">–ë–∞–ª–ª—ã –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–¥–∞–Ω–∏—è –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º. –û–±—ã—á–Ω–æ —ç—Ç–æ –∑–∞–Ω–∏–º–∞–µ—Ç –æ—Ç 1 –¥–æ 3 –¥–Ω–µ–π.</div>
                    </div>
                    <div class="faq-item glass-card" onclick="toggleFaq(this)">
                        <div class="faq-question">
                            <span>–ö–∞–∫–æ–π –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –≤—ã–≤–æ–¥?</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –≤—ã–≤–æ–¥–∞: 50 –±–∞–ª–ª–æ–≤ –¥–ª—è –°–ë–ü, 75 –±–∞–ª–ª–æ–≤ –¥–ª—è Stars, 100 –±–∞–ª–ª–æ–≤ –¥–ª—è –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã.</div>
                    </div>
                    <div class="faq-item glass-card" onclick="toggleFaq(this)">
                        <div class="faq-question">
                            <span>–ï—Å—Ç—å –ª–∏ –∫–æ–º–∏—Å—Å–∏—è –ø—Ä–∏ –≤—ã–≤–æ–¥–µ?</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="faq-answer">–ù–µ—Ç, –º—ã –Ω–µ –±–µ—Ä–µ–º –∫–æ–º–∏—Å—Å–∏—é –∑–∞ –≤—ã–≤–æ–¥. –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ —Ä–æ–≤–Ω–æ —Ç—É —Å—É–º–º—É, –∫–æ—Ç–æ—Ä–∞—è —É–∫–∞–∑–∞–Ω–∞ –≤ –≤–∞—à–µ–º –±–∞–ª–∞–Ω—Å–µ.</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="profile-tab" class="tab-content">
            <div class="profile-header glass-card fade-in">
                <div class="avatar">
                    <i id="avatar-icon" class="fas fa-user"></i>
                    <img id="avatar-img" style="display: none;" alt="–ê–≤–∞—Ç–∞—Ä">
                </div>
                <div class="profile-info">
                    <h2 id="user-name">–ó–∞–≥—Ä—É–∑–∫–∞...</h2>
                    <p id="user-username"><i class="fas fa-at"></i> @username</p>
                    <p id="user-join-date"><i class="fas fa-calendar-alt"></i> –£—á–∞—Å—Ç–Ω–∏–∫ —Å ...</p>
                    <span class="level-badge">
                        <i class="fas fa-shield-alt"></i>
                        <span id="user-level">–û–±—ã—á–Ω—ã–π</span>
                    </span>
                </div>
            </div>

            <div class="balance-card glass-card fade-in">
                <div class="balance-header">
                    <div class="balance-label">
                        <i class="fas fa-wallet"></i>
                        <span>–í–∞—à –±–∞–ª–∞–Ω—Å</span>
                    </div>
                    <button class="refresh-btn" id="refresh-balance" title="–û–±–Ω–æ–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å">
                        <i class="fas fa-sync-alt"></i>
                    </button>
                </div>
                <div class="balance-amount" id="balance-value">0</div>
                <div class="balance-subtext">
                    –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç: <span id="balance-rub">0</span> —Ä—É–±–ª–µ–π
                </div>
                <button class="withdraw-btn exit-mini-app" id="withdraw-btn">
                    <i class="fas fa-exchange-alt"></i> –í—ã–≤–µ—Å—Ç–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞
                </button>
                <div class="balance-info">
                    <i class="fas fa-info-circle"></i> –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É "–û–±–Ω–æ–≤–∏—Ç—å" –¥–ª—è –∞–∫—Ç—É–∞–ª—å–Ω–æ–≥–æ –±–∞–ª–∞–Ω—Å–∞
                </div>
            </div>

            <h2 style="margin-bottom: 24px; font-size: clamp(1.4rem, 5vw, 1.8rem); font-weight: 800; color: white; letter-spacing: -0.3px;">–í–∞—à–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
            <div class="stats-grid">
                <div class="stat-card glass-card fade-in">
                    <div class="stat-value" id="stat-tasks">0</div>
                    <div class="stat-label">–ó–∞–¥–∞–Ω–∏–π –≤–∑—è—Ç—ã—Ö –≤ —Ä–∞–±–æ—Ç—É</div>
                </div>
                <div class="stat-card glass-card fade-in">
                    <div class="stat-value" id="stat-streak">0</div>
                    <div class="stat-label">–î–Ω–µ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ–¥—Ä—è–¥</div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤ -->
    <div class="modal-overlay" id="withdraw-modal">
        <div class="modal-content">
            <button class="close-modal" onclick="closeWithdrawModal()">
                <i class="fas fa-times"></i>
            </button>
            
            <div class="withdraw-step active" id="step-method">
                <div class="modal-header">
                    <h2>–í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤</h2>
                    <p>–í—ã–±–µ—Ä–∏—Ç–µ —É–¥–æ–±–Ω—ã–π —Å–ø–æ—Å–æ–± –≤—ã–≤–æ–¥–∞</p>
                </div>

                <div class="method-selection">
                    <div class="method-option" data-method="sbp" data-min="50">
                        <div class="method-icon sbp-icon">
                            <i class="fas fa-university"></i>
                        </div>
                        <div class="method-name">–°–ë–ü</div>
                        <div class="method-min">–º–∏–Ω. 50</div>
                    </div>

                    <div class="method-option" data-method="stars" data-min="75">
                        <div class="method-icon stars-icon">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="method-name">Stars</div>
                        <div class="method-min">–º–∏–Ω. 75</div>
                    </div>

                    <div class="method-option" data-method="crypto" data-min="100">
                        <div class="method-icon crypto-icon">
                            <i class="fab fa-bitcoin"></i>
                        </div>
                        <div class="method-name">–ö—Ä–∏–ø—Ç–∞</div>
                        <div class="method-min">–º–∏–Ω. 100</div>
                    </div>
                </div>

                <button class="withdraw-submit" id="next-to-details" disabled>
                    –î–∞–ª–µ–µ
                </button>
            </div>

            <div class="withdraw-step" id="step-details">
                <div class="step-header">
                    <button class="step-back" onclick="goToStep('method')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="step-title" id="step-title">–í–≤–æ–¥ –¥–∞–Ω–Ω—ã—Ö</div>
                </div>
                
                <div class="step-description" id="step-description">
                    –£–∫–∞–∂–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—ã–≤–æ–¥–∞ —Å—Ä–µ–¥—Å—Ç–≤
                </div>

                <div id="sbp-form" style="display: none;">
                    <div class="input-group phone-input">
                        <label for="phone-number">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
                        <span class="phone-prefix">+7</span>
                        <input type="tel" id="phone-number" placeholder="900 123 45 67" maxlength="10">
                    </div>
                    <div class="input-group">
                        <label for="bank-name">–ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞</label>
                        <input type="text" id="bank-name" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –°–±–µ—Ä–±–∞–Ω–∫, –¢–∏–Ω—å–∫–æ—Ñ—Ñ">
                    </div>
                </div>

                <div id="stars-form" style="display: none;">
                    <div class="input-group">
                        <label for="stars-username">Username –≤ Stars</label>
                        <input type="text" id="stars-username" placeholder="–í–∞—à username –≤ Stars">
                    </div>
                    
                    <div class="withdraw-info" id="stars-info" style="display: none;">
                        <div class="withdraw-info-item">
                            <span class="withdraw-info-label">–í–∞—à –±–∞–ª–∞–Ω—Å:</span>
                            <span class="withdraw-info-value" id="stars-balance">0</span>
                        </div>
                        <div class="withdraw-info-item">
                            <span class="withdraw-info-label">–ë—É–¥–µ—Ç –ø–µ—Ä–µ–≤–µ–¥–Ω–æ:</span>
                            <span class="withdraw-info-value" id="stars-amount">0</span>
                        </div>
                        <div class="stars-conversion">
                            1,5 –±–∞–ª–ª–∞ = 1 –∑–≤–µ–∑–¥–∞
                        </div>
                    </div>
                </div>

                <div id="crypto-form" style="display: none;">
                    <div class="input-group">
                        <label for="crypto-currency">–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞</label>
                        <select id="crypto-currency" class="input-group input">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É</option>
                            <option value="USDT">USDT (Tether)</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="crypto-network">–°–µ—Ç—å</label>
                        <select id="crypto-network" class="input-group input">
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ç—å</option>
                            <option value="TON">TON (The Open Network)</option>
                        </select>
                    </div>
                    <div class="input-group">
                        <label for="crypto-wallet">–ê–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞ TON</label>
                        <input type="text" id="crypto-wallet" placeholder="–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞ TON">
                    </div>
                    <div class="withdraw-info" style="margin-top: 20px;">
                        <div class="withdraw-info-item">
                            <span class="withdraw-info-label">–ö—É—Ä—Å –æ–±–º–µ–Ω–∞:</span>
                            <span class="withdraw-info-value">1 –±–∞–ª–ª = 0.013 USDT</span>
                        </div>
                        <div class="withdraw-info-item">
                            <span class="withdraw-info-label">–ë—É–¥–µ—Ç –ø–µ—Ä–µ–≤–µ–¥–Ω–æ:</span>
                            <span class="withdraw-info-value" id="crypto-amount">0 USDT</span>
                        </div>
                    </div>
                </div>

                <button class="withdraw-submit" id="next-to-confirm">
                    –î–∞–ª–µ–µ
                </button>
            </div>

            <div class="withdraw-step" id="step-confirm">
                <div class="step-header">
                    <button class="step-back" onclick="goToStep('details')">
                        <i class="fas fa-arrow-left"></i>
                    </button>
                    <div class="step-title">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ</div>
                </div>
                
                <div class="step-description">
                    –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –≤–≤–µ–¥–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
                </div>

                <div class="withdraw-info">
                    <div class="withdraw-info-item">
                        <span class="withdraw-info-label">–ú–µ—Ç–æ–¥ –≤—ã–≤–æ–¥–∞:</span>
                        <span class="withdraw-info-value" id="confirm-method">-</span>
                    </div>
                    <div class="withdraw-info-item">
                        <span class="withdraw-info-label">–°—É–º–º–∞:</span>
                        <span class="withdraw-info-value" id="confirm-amount">-</span>
                    </div>
                    <div id="confirm-details"></div>
                </div>

                <div class="step-description" style="font-size: 0.95rem; color: var(--text-muted); margin-top: 24px;">
                    <i class="fas fa-info-circle"></i> –ó–∞—è–≤–∫–∞ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤. –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram.
                </div>

                <button class="withdraw-submit exit-mini-app" id="submit-withdraw">
                    <i class="fas fa-paper-plane"></i> –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –≤—ã–≤–æ–¥
                </button>
            </div>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–¥–∞–Ω–∏—é -->
    <div class="modal-overlay" id="task-instruction-modal" style="display:none;">
        <div class="modal-content">
            <button class="close-modal" onclick="closeTaskInstructionModal()">
                <i class="fas fa-times"></i>
            </button>
            <div class="modal-header">
                <h2 id="task-modal-title">–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é</h2>
                <p id="task-modal-subtitle" class="step-description"></p>
            </div>
            <div class="info-modal-body">
                <ol class="instruction-list">
                    <li>–ü—Ä–æ—á–∏—Ç–∞—Ç—å –ø–æ–ª–Ω—É—é –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –∑–∞–¥–∞–Ω–∏—è.</li>
                    <li>–ù–∞–ø–∏—Å–∞—Ç—å –≤ —á–∞—Ç–µ –±–æ—Ç–∞ "–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é" –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.</li>
                    <li>–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–∫—Ä–∏–Ω—à–æ—Ç—ã –∫–∞–∫ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.</li>
                </ol>
            </div>
            <button id="confirm-task-btn" class="withdraw-submit">–ù–ê–ß–ê–¢–¨</button>
        </div>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ -->
    <div class="modal-overlay" id="info-modal-about">
        <div class="modal-content info-modal-content">
            <button class="close-modal" onclick="closeInfoModal('about')">
                <i class="fas fa-times"></i>
            </button>
            
            <div class="info-modal-header">
                <h2><i class="fas fa-info-circle"></i> –û –ø—Ä–æ–µ–∫—Ç–µ</h2>
                <p>–í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ Task Greot</p>
            </div>
            
            <div class="info-modal-body">
                <div class="info-content">
                    <p><strong>Task Greot</strong> ‚Äî —ç—Ç–æ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –º–∏–∫—Ä–æ–∑–∞–¥–∞–Ω–∏–π, –ø–æ–∑–≤–æ–ª—è—é—â–∞—è –º–æ–Ω–µ—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–∞—à–∏ –Ω–∞–≤—ã–∫–∏ –∏ —Å–≤–æ–±–æ–¥–Ω–æ–µ –≤—Ä–µ–º—è.</p>
                    
                    <p>–ú—ã —Å–æ–∑–¥–∞–µ–º —ç–∫–æ—Å–∏—Å—Ç–µ–º—É, –≥–¥–µ –∫–∞–∂–¥—ã–π –º–æ–∂–µ—Ç –Ω–∞–π—Ç–∏ –∑–∞–¥–∞–Ω–∏—è –ø–æ –¥—É—à–µ, —Ä–∞–∑–≤–∏–≤–∞—Ç—å—Å—è –∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ä–µ–∞–ª—å–Ω—ã–µ –¥–µ–Ω—å–≥–∏ –∏–ª–∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É.</p>
                    
                    <div class="highlight">
                        üíé <strong>1 –±–∞–ª–ª = 1 —Ä—É–±–ª—å.</strong> –í—ã–≤–æ–¥–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç—É, –≤ Stars –∏–ª–∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É.
                    </div>
                    
                    <h3 style="color: white; margin: 25px 0 15px; font-size: 1.3rem;">–ù–∞—à–∞ –º–∏—Å—Å–∏—è</h3>
                    
                    <ul class="info-list">
                        <li>üìã –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –¥–æ—Å—Ç—É–ø–Ω—ã–π —Å–ø–æ—Å–æ–± –∑–∞—Ä–∞–±–æ—Ç–∫–∞ –¥–ª—è –≤—Å–µ—Ö</li>
                        <li>‚ö° –°–æ–∑–¥–∞—Ç—å —á–µ—Å—Ç–Ω—É—é –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É</li>
                        <li>üöÄ –†–∞–∑–≤–∏–≤–∞—Ç—å –∫—Ä–∞—É–¥—Å–æ—Ä—Å–∏–Ω–≥–æ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</li>
                        <li>ü§ù –ü–æ–º–æ–≥–∞—Ç—å –±–∏–∑–Ω–µ—Å–∞–º —Ä–µ—à–∞—Ç—å –∑–∞–¥–∞—á–∏ —á–µ—Ä–µ–∑ –∫—Ä–∞—É–¥—Å–æ—Ä—Å–∏–Ω–≥</li>
                    </ul>
                    
                    <h3 style="color: white; margin: 25px 0 15px; font-size: 1.3rem;">–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</h3>
                    
                    <ul class="info-list">
                        <li>‚ö° –ë—ã—Å—Ç—Ä—ã–µ –≤—ã–ø–ª–∞—Ç—ã</li>
                        <li>üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö</li>
                        <li>üïπÔ∏è –£–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å</li>
                        <li>üë• –ê–∫—Ç–∏–≤–Ω–æ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ</li>
                        <li>üí¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7</li>
                    </ul>
                    
                    <p style="margin-top: 25px;">–ü—Ä–∏—Å–æ–µ–¥–∏–Ω—è–π—Ç–µ—Å—å –∫ Task Greot!</p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="info-modal-points">
        <div class="modal-content info-modal-content">
            <button class="close-modal" onclick="closeInfoModal('points')">
                <i class="fas fa-times"></i>
            </button>
            
            <div class="info-modal-header">
                <h2><i class="fas fa-coins"></i> –ß—Ç–æ —Ç–∞–∫–æ–µ –±–∞–ª–ª—ã?</h2>
                <p>–í—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –≤–∞–ª—é—Ç–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</p>
            </div>
            
            <div class="info-modal-body">
                <div class="info-content">
                    <p><strong>–ë–∞–ª–ª—ã</strong> ‚Äî —ç—Ç–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –≤–∞–ª—é—Ç–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã, –∫–æ—Ç–æ—Ä—É—é –≤—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ –∑–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π.</p>
                    
                    <div class="highlight">
                        üìã <strong>1 –±–∞–ª–ª = 1 —Ä–æ—Å—Å–∏–π—Å–∫–∏–π —Ä—É–±–ª—å</strong>
                    </div>
                    
                    <h3 style="color: white; margin: 25px 0 15px; font-size: 1.3rem;">–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç –±–∞–ª–ª—ã?</h3>
                    
                    <ul class="info-list">
                        <li>üí∞ <strong>–ó–∞—Ä–∞–±–æ—Ç–æ–∫:</strong> –í—ã–ø–æ–ª–Ω—è–π—Ç–µ –∑–∞–¥–∞–Ω–∏—è ‚Üí –ø–æ–ª—É—á–∞–π—Ç–µ –±–∞–ª–ª—ã</li>
                        <li>‚ö° <strong>–ù–∞—á–∏—Å–ª–µ–Ω–∏–µ:</strong> –ú–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–∞–¥–∞–Ω–∏—è</li>
                        <li>üõ°Ô∏è <strong>–•—Ä–∞–Ω–µ–Ω–∏–µ:</strong> –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞ –≤–∞—à–µ–º —Å—á–µ—Ç–µ</li>
                        <li>üí∏ <strong>–í—ã–≤–æ–¥:</strong> –ú–µ–Ω—è–π—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–µ–Ω—å–≥–∏ –≤ –ª—é–±–æ–π –º–æ–º–µ–Ω—Ç</li>
                    </ul>
                    
                    <h3 style="color: white; margin: 25px 0 15px; font-size: 1.3rem;">–°–ø–æ—Å–æ–±—ã –≤—ã–≤–æ–¥–∞</h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 20px 0;">
                        <div style="background: rgba(30, 136, 229, 0.1); padding: 20px; border-radius: 20px; text-align: center;">
                            <div style="font-size: 2rem; color: #1E88E5; margin-bottom: 10px;">
                                <i class="fas fa-university"></i>
                            </div>
                            <div style="font-weight: 700; color: white;">–°–ë–ü</div>
                            <div style="font-size: 0.9rem; color: var(--text-muted); margin-top: 5px;">–æ—Ç 50 –±–∞–ª–ª–æ–≤</div>
                        </div>
                        
                        <div style="background: rgba(255, 107, 107, 0.1); padding: 20px; border-radius: 20px; text-align: center;">
                            <div style="font-size: 2rem; color: #FF6B6B; margin-bottom: 10px;">
                                <i class="fas fa-star"></i>
                            </div>
                            <div style="font-weight: 700; color: white;">Stars</div>
                            <div style="font-size: 0.9rem; color: var(--text-muted); margin-top: 5px;">–æ—Ç 75 –±–∞–ª–ª–æ–≤</div>
                        </div>
                        
                        <div style="background: rgba(255, 217, 61, 0.1); padding: 20px; border-radius: 20px; text-align: center;">
                            <div style="font-size: 2rem; color: #FFD93D; margin-bottom: 10px;">
                                <i class="fab fa-bitcoin"></i>
                            </div>
                            <div style="font-weight: 700; color: white;">–ö—Ä–∏–ø—Ç–∞</div>
                            <div style="font-size: 0.9rem; color: var(--text-muted); margin-top: 5px;">–æ—Ç 100 –±–∞–ª–ª–æ–≤</div>
                        </div>
                    </div>
                    
                    <h3 style="color: white; margin: 25px 0 15px; font-size: 1.3rem;">–í–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                    
                    <ul class="info-list">
                        <li>üí∞ <strong>–ë–µ–∑ –∫–æ–º–∏—Å—Å–∏–π:</strong> –í—ã –ø–æ–ª—É—á–∞–µ—Ç–µ 100% –æ—Ç —Å—É–º–º—ã</li>
                        <li>‚è∞ <strong>–ë—ã—Å—Ç—Ä—ã–µ –≤—ã–ø–ª–∞—Ç—ã:</strong> –í —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤</li>
                        <li>üõ°Ô∏è <strong>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:</strong> –ó–∞—â–∏—Ç–∞ –æ—Ç –º–æ—à–µ–Ω–Ω–∏—á–µ—Å—Ç–≤–∞</li>
                    </ul>
                    
                    <p style="margin-top: 25px; color: var(--accent-green); font-weight: 500;">
                        <i class="fas fa-lightbulb"></i> –°–æ–≤–µ—Ç: –ù–∞–∫–æ–ø–ª–∏–≤–∞–π—Ç–µ –±–∞–ª–ª—ã –¥–ª—è –±–æ–ª–µ–µ –∫—Ä—É–ø–Ω—ã—Ö –≤—ã–≤–æ–¥–æ–≤!
                    </p>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="info-modal-scam">
        <div class="modal-content info-modal-content">
            <button class="close-modal" onclick="closeInfoModal('scam')">
                <i class="fas fa-times"></i>
            </button>
            
            <div class="info-modal-header">
                <h2><i class="fas fa-shield-alt"></i> –ù–µ —Å–∫–∞–º –ª–∏ —ç—Ç–æ?</h2>
                <p>–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∏ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –Ω–∞—à–µ–π —á–µ—Å—Ç–Ω–æ—Å—Ç–∏</p>
            </div>
            
            <div class="info-modal-body">
                <div class="info-content">
                    <p><strong>–ù–µ—Ç, Task Greot ‚Äî –Ω–µ —Å–∫–∞–º.</strong> –ú—ã —Ä–∞–±–æ—Ç–∞–µ–º –ª–µ–≥–∞–ª—å–Ω–æ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ.</p>
                    
                    <h3 style="color: white; margin: 25px 0 15px; font-size: 1.3rem;">–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ —á–µ—Å—Ç–Ω–æ—Å—Ç–∏</h3>
                    
                    <ul class="info-list">
                        <li>üî¢ <strong>–û—Ç–∫—Ä—ã—Ç–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:</strong> –í—Å–µ –≤—ã–ø–ª–∞—Ç—ã –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –≤ –Ω–∞—à–µ–º Telegram-–∫–∞–Ω–∞–ª–µ</li>
                        <li>üë§ <strong>–†–µ–∞–ª—å–Ω—ã–µ –æ—Ç–∑—ã–≤—ã:</strong> –û—Ç–∑—ã–≤—ã –æ—Ç —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º</li>
                        <li>üí¨ <strong>–ü–æ–¥–¥–µ—Ä–∂–∫–∞ 24/7:</strong> –ñ–∏–≤–∞—è —Ç–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ Telegram –≤—Å–µ–≥–¥–∞ –Ω–∞ —Å–≤—è–∑–∏</li>
                        <li>üîí <strong>–ì–∞—Ä–∞–Ω—Ç–∏–∏:</strong> –í–∞—à–∏ —Å—Ä–µ–¥—Å—Ç–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã —Ä–µ–∑–µ—Ä–≤–Ω—ã–º —Ñ–æ–Ω–¥–æ–º</li>
                        <li>üìÑ <strong>–ü—Ä–æ–∑—Ä–∞—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è:</strong> –í—Å–µ –ø—Ä–∞–≤–∏–ª–∞ –∏ —É—Å–ª–æ–≤–∏—è –ø—É–±–ª–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã</li>
                    </ul>
                    
                    <h3 style="color: white; margin: 25px 0 15px; font-size: 1.3rem;">–ö–∞–∫ –º—ã —Ä–∞–±–æ—Ç–∞–µ–º?</h3>
                    
                    <ul class="info-list">
                        <li>1. –í—ã–ø–æ–ª–Ω—è–µ—Ç–µ –∑–∞–¥–∞–Ω–∏–µ –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</li>
                        <li>2. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç–µ –æ—Ç—á–µ—Ç —á–µ—Ä–µ–∑ –±–æ—Ç–∞</li>
                        <li>3. –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ</li>
                        <li>4. –ü–æ–ª—É—á–∞–µ—Ç–µ –±–∞–ª–ª—ã –Ω–∞ —Å—á–µ—Ç</li>
                        <li>5. –í—ã–≤–æ–¥–∏—Ç–µ –≤ —É–¥–æ–±–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ</li>
                    </ul>
                    
                    <h3 style="color: white; margin: 25px 0 15px; font-size: 1.3rem;">–ù–∞—à–∞ —Ä–µ–ø—É—Ç–∞—Ü–∏—è</h3>
                    
                    <p>–ú—ã –∑–∞–∏–Ω—Ç–µ—Ä–µ—Å–æ–≤–∞–Ω—ã –≤ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–º —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–µ –∏ —Ä–∞–∑–≤–∏—Ç–∏–∏ —Å–æ–æ–±—â–µ—Å—Ç–≤–∞. –ù–∞—à–∞ —Ä–µ–ø—É—Ç–∞—Ü–∏—è ‚Äî –Ω–∞—à –≥–ª–∞–≤–Ω—ã–π –∞–∫—Ç–∏–≤, –ø–æ—ç—Ç–æ–º—É –º—ã:</p>
                    
                    <ul class="info-list">
                        <li>üå± –†–∞—Å—Ç–µ–º –≤–º–µ—Å—Ç–µ —Å —Å–æ–æ–±—â–µ—Å—Ç–≤–æ–º</li>
                        <li>‚öñÔ∏è –¶–µ–Ω–∏–º –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</li>
                        <li>üöÄ –ü–æ—Å—Ç–æ—è–Ω–Ω–æ —É–ª—É—á—à–∞–µ–º –ø–ª–∞—Ç—Ñ–æ—Ä–º—É</li>
                        <li>ü§ù –í–Ω–µ–¥—Ä—è–µ–º –Ω–æ–≤—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏</li>
                    </ul>
                    
                    <div style="background: rgba(16, 185, 129, 0.1); border-left: 4px solid var(--accent-green); padding: 20px; border-radius: 12px; margin: 25px 0;">
                        <p style="color: var(--accent-green); font-weight: 600; margin-bottom: 10px;">
                            <i class="fas fa-check-circle"></i> –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–∞–º–∏!
                        </p>
                        <p>–ù–∞—á–Ω–∏—Ç–µ —Å —Å–∞–º–æ–≥–æ –ø—Ä–æ—Å—Ç–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –Ω–∞ 10 –±–∞–ª–ª–æ–≤ –∏ —É–±–µ–¥–∏—Ç–µ—Å—å –≤ –Ω–∞—à–µ–π —á–µ—Å—Ç–Ω–æ—Å—Ç–∏. –í–∞–º –Ω–µ—á–µ–≥–æ —Ç–µ—Ä—è—Ç—å, –Ω–æ –µ—Å—Ç—å —á—Ç–æ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å!</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal-overlay" id="info-modal-benefit">
        <div class="modal-content info-modal-content">
            <button class="close-modal" onclick="closeInfoModal('benefit')">
                <i class="fas fa-times"></i>
            </button>
            
            <div class="info-modal-header">
                <h2><i class="fas fa-chart-line"></i> –ö–∞–∫–∞—è –Ω–∞—à–∞ –≤—ã–≥–æ–¥–∞?</h2>
                <p>–ü—Ä–æ–∑—Ä–∞—á–Ω–∞—è –±–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª—å –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã</p>
            </div>
            
            <div class="info-modal-body">
                <div class="info-content">
                    <p>–ù–∞—à–∞ –±–∏–∑–Ω–µ—Å-–º–æ–¥–µ–ª—å –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ –≤–∑–∞–∏–º–æ–≤—ã–≥–æ–¥–Ω–æ–º —Å–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–µ –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã:</p>
                    
                    <div class="highlight">
                        ‚öñÔ∏è <strong>Win-Win-Win</strong>: –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç, –±–∏–∑–Ω–µ—Å—ã –ø–æ–ª—É—á–∞—é—Ç —É—Å–ª—É–≥–∏, –º—ã —Ä–∞–∑–≤–∏–≤–∞–µ–º –ø–ª–∞—Ç—Ñ–æ—Ä–º—É
                    </div>
                    
                    <h3 style="color: white; margin: 25px 0 15px; font-size: 1.3rem;">–û—Å–Ω–æ–≤–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–æ—Ö–æ–¥–∞</h3>
                    
                    <ul class="info-list">
                        <li>üìã <strong>–ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å–æ–≤:</strong> –ü–æ–º–æ–≥–∞–µ–º –∫–æ–º–ø–∞–Ω–∏—è–º —Ä–∞–∑–≤–∏–≤–∞—Ç—å –∏—Ö —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ –º–µ–¥–∏–∞ –∏ –æ–Ω–ª–∞–π–Ω-–ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏–µ</li>
                        <li>‚ö° <strong>–ü–∞—Ä—Ç–Ω–µ—Ä—Å–∫–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã:</strong> –†–∞–±–æ—Ç–∞–µ–º —Å –∫–æ–º–ø–∞–Ω–∏—è–º–∏ –Ω–∞–¥ —É–ª—É—á—à–µ–Ω–∏–µ–º –∏—Ö —Ä–µ–ø—É—Ç–∞—Ü–∏–∏ –∏ –æ—Ç–∑—ã–≤–æ–≤</li>
                        <li>ü§ù <strong>–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∫—Ä–∞—É–¥—Å–æ—Ä—Å–∏–Ω–≥–∞:</strong> –†–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∏ –ª–∏—Ü–µ–Ω–∑–∏—Ä—É–µ–º —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º</li>
                    </ul>
                    
                    <h3 style="color: white; margin: 25px 0 15px; font-size: 1.3rem;">–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?</h3>
                    
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 20px 0;">
                        <div style="background: rgba(139, 92, 246, 0.1); padding: 15px; border-radius: 20px; text-align: center;">
                            <div style="font-size: 1.8rem; color: var(--accent-purple); margin-bottom: 10px;">
                                üë§
                            </div>
                            <div style="font-weight: 700; color: white; font-size: 0.9rem;">–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</div>
                            <div style="font-size: 0.8rem; color: var(--text-muted); margin-top: 5px;">–í—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–¥–∞–Ω–∏—è</div>
                        </div>
                        
                        <div style="background: rgba(6, 214, 160, 0.1); padding: 15px; border-radius: 20px; text-align: center;">
                            <div style="font-size: 1.8rem; color: var(--accent-green); margin-bottom: 10px;">
                                üè¢
                            </div>
                            <div style="font-weight: 700; color: white; font-size: 0.9rem;">–ë–∏–∑–Ω–µ—Å</div>
                            <div style="font-size: 0.8rem; color: var(--text-muted); margin-top: 5px;">–ü–æ–ª—É—á–∞–µ—Ç —É—Å–ª—É–≥–∏</div>
                        </div>
                        
                        <div style="background: rgba(59, 130, 246, 0.1); padding: 15px; border-radius: 20px; text-align: center;">
                            <div style="font-size: 1.8rem; color: var(--info); margin-bottom: 10px;">
                                üïπÔ∏è
                            </div>
                            <div style="font-weight: 700; color: white; font-size: 0.9rem;">–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞</div>
                            <div style="font-size: 0.8rem; color: var(--text-muted); margin-top: 5px;">–°–æ–∑–¥–∞–µ—Ç —Ü–µ–Ω–Ω–æ—Å—Ç—å</div>
                        </div>
                    </div>
                    
                    <h3 style="color: white; margin: 25px 0 15px; font-size: 1.3rem;">–ù–∞—à–∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</h3>
                    
                    <ul class="info-list">
                        <li>üå± <strong>–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:</strong> –ß–µ–º –±–æ–ª—å—à–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ‚Äî —Ç–µ–º –±–æ–ª—å—à–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π</li>
                        <li>üë• <strong>–°–µ—Ç–µ–≤–æ–π —ç—Ñ—Ñ–µ–∫—Ç:</strong> –†–∞—Å—Ç—É—â–µ–µ —Å–æ–æ–±—â–µ—Å—Ç–≤–æ –ø—Ä–∏–≤–ª–µ–∫–∞–µ—Ç –±–æ–ª—å—à–µ –±–∏–∑–Ω–µ—Å–æ–≤</li>
                        <li>üíé <strong>–ú—É–ª—å—Ç–∏–≤–∞–ª—é—Ç–Ω–æ—Å—Ç—å:</strong> –†–∞–±–æ—Ç–∞ —Å —Ä–∞–∑–Ω—ã–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏ –≤—ã–ø–ª–∞—Ç —Å–Ω–∏–∂–∞–µ—Ç —Ä–∏—Å–∫–∏</li>
                        <li>üöÄ <strong>–ò–Ω–Ω–æ–≤–∞—Ü–∏–∏:</strong> –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ –Ω–æ–≤—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π</li>
                    </ul>
                    
                    <div style="background: rgba(139, 92, 246, 0.1); border-left: 4px solid var(--accent-purple); padding: 20px; border-radius: 12px; margin: 25px 0;">
                        <p style="color: var(--accent-purple); font-weight: 600; margin-bottom: 10px;">
                            <i class="fas fa-rocket"></i> –ù–∞—à–∞ —Ü–µ–ª—å
                        </p>
                        <p>–°–æ–∑–¥–∞—Ç—å –∫—Ä—É–ø–Ω–µ–π—à—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –º–∏–∫—Ä–æ–∑–∞–¥–∞–Ω–∏–π –≤ –°–ù–ì —Å —á–µ—Å—Ç–Ω—ã–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏ –¥–ª—è –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤. –ú—ã –≤–µ—Ä–∏–º, —á—Ç–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è –∫—Ä–∞—É–¥—Å–æ—Ä—Å–∏–Ω–≥–∞ –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ–¥—Ö–æ–¥ –∫ —Ä–∞–±–æ—Ç–µ –∏ –∑–∞—Ä–∞–±–æ—Ç–∫—É.</p>
                    </div>
                    
                    <p style="text-align: center; margin-top: 30px; color: var(--text-muted); font-style: italic;">
                        "–ú—ã –Ω–µ –±–µ—Ä–µ–º –¥–µ–Ω—å–≥–∏ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π ‚Äî –º—ã —Å–æ–∑–¥–∞–µ–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è –∑–∞—Ä–∞–±–æ—Ç–∫–∞"
                    </p>
                </div>
            </div>
        </div>
    </div>

    <nav class="tab-navigation">
        <button class="tab-btn active" data-tab="tasks-tab">
            <i class="fas fa-tasks"></i>
            <span>–ó–∞–¥–∞–Ω–∏—è</span>
        </button>
        <button class="tab-btn" data-tab="info-tab">
            <i class="fas fa-info-circle"></i>
            <span>–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</span>
        </button>
        <button class="tab-btn" data-tab="profile-tab">
            <i class="fas fa-user"></i>
            <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
        </button>
    </nav>

    <div class="notification" id="notification">
        <span id="notification-text">–°–æ–æ–±—â–µ–Ω–∏–µ</span>
    </div>

    <script>
        const CONFIG = {
            TOKEN_FILE_URL: 'token.txt',
            GROUP_CHAT_ID: '-1003683579168',
            TELEGRAM_BOT_TOKEN: '',
            BD_FILE_URL: 'https://raw.githubusercontent.com/exyyl/-taskgreot/main/bd.txt',
            POINT_TO_RUB: 1,
            ADMIN_CHAT_ID: '7621683704'
        };

        let currentUser = null;
        let botTokenLoaded = false;
        let selectedWithdrawMethod = null;
        let withdrawData = {};
        let lastWithdrawTime = localStorage.getItem('last_withdraw_time');
        let totalTasksTaken = parseInt(localStorage.getItem('total_tasks_taken')) || 0;

        async function initTelegram() {
            if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
                const webApp = Telegram.WebApp;
                webApp.ready();
                webApp.expand();
                webApp.enableClosingConfirmation();
                webApp.setBackgroundColor('#16172b');
                
                const user = webApp.initDataUnsafe?.user;
                
                if (user) {
                    currentUser = {
                        id: user.id,
                        first_name: user.first_name || '',
                        last_name: user.last_name || '',
                        username: user.username || '',
                        photo_url: user.photo_url || null,
                        auth_date: user.auth_date || Math.floor(Date.now() / 1000)
                    };
                    return true;
                }
            }
            
            currentUser = {
                id: Math.floor(Math.random() * 1000000000),
                first_name: '–ì–æ—Å—Ç—å',
                last_name: '',
                username: 'guest',
                photo_url: null,
                auth_date: Math.floor(Date.now() / 1000)
            };
            
            return false;
        }

        async function loadBotToken() {
            try {
                const response = await fetch(CONFIG.TOKEN_FILE_URL, {
                    method: 'GET',
                    cache: 'no-cache',
                    headers: { 'Accept': 'text/plain' }
                });
                
                if (response.ok) {
                    const token = (await response.text()).trim();
                    if (token && token.length > 20 && token.includes(':')) {
                        CONFIG.TELEGRAM_BOT_TOKEN = token;
                        botTokenLoaded = true;
                        return true;
                    }
                }
                
                return await tryAlternativeTokenPaths();
                
            } catch (error) {
                return await tryAlternativeTokenPaths();
            }
        }

        async function tryAlternativeTokenPaths() {
            const alternativePaths = [
                'https://raw.githubusercontent.com/exyyl/-taskgreot/main/token.txt',
                './token.txt',
                '/token.txt'
            ];
            
            for (const path of alternativePaths) {
                try {
                    const response = await fetch(path, { cache: 'no-cache' });
                    if (response.ok) {
                        const token = (await response.text()).trim();
                        if (token && token.length > 20 && token.includes(':')) {
                            CONFIG.TELEGRAM_BOT_TOKEN = token;
                            botTokenLoaded = true;
                            return true;
                        }
                    }
                } catch (error) {
                    continue;
                }
            }
            
            return false;
        }

        async function sendTelegramMessage(chatId, message, parseMode = 'HTML', replyMarkup = null) {
            if (!botTokenLoaded || !CONFIG.TELEGRAM_BOT_TOKEN) {
                console.error('–¢–æ–∫–µ–Ω –±–æ—Ç–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω –∏–ª–∏ –Ω–µ –≤–∞–ª–∏–¥–µ–Ω');
                showNotification('–¢–æ–∫–µ–Ω –±–æ—Ç–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω', 'error');
                return false;
            }
            const url = `https://corsproxy.io/?https://api.telegram.org/bot${CONFIG.TELEGRAM_BOT_TOKEN}/sendMessage`;
            const payload = {
                chat_id: chatId,
                text: message,
                parse_mode: parseMode
            };
            if (replyMarkup) {
                payload.reply_markup = JSON.stringify(replyMarkup);
            }
            try {
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();
                if (result.ok) {
                    try { localStorage.setItem(`last_bot_message_${chatId}`, String(result.result.message_id)); } catch (e) {}
                    console.log('–°–æ–æ–±—â–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ Telegram');
                    return true;
                } else {
                    console.error('–û—à–∏–±–∫–∞ Telegram API:', result.description);
                    showNotification(`–û—à–∏–±–∫–∞ Telegram: ${result.description}`, 'error');
                    return false;
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ –≤ Telegram:', error);
                showNotification('–û—à–∏–±–∫–∞ —Å–µ—Ç–∏ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è', 'error');
                return false;
            }
        }

        async function sendTelegramPhotoWithUrl(chatId, photoUrl, caption, replyMarkup = null) {
            if (!botTokenLoaded || !CONFIG.TELEGRAM_BOT_TOKEN) {
                console.error('–¢–æ–∫–µ–Ω –±–æ—Ç–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω –∏–ª–∏ –Ω–µ –≤–∞–ª–∏–¥–µ–Ω');
                return false;
            }
            const url = `https://corsproxy.io/?https://api.telegram.org/bot${CONFIG.TELEGRAM_BOT_TOKEN}/sendPhoto`;
            try {
                const payload = {
                    chat_id: chatId,
                    photo: photoUrl,
                    caption: caption,
                    parse_mode: 'HTML'
                };
                if (replyMarkup) {
                    payload.reply_markup = JSON.stringify(replyMarkup);
                }
                const response = await fetch(url, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(payload)
                });
                const result = await response.json();
                if (result.ok) {
                    try { localStorage.setItem(`last_bot_message_${chatId}`, String(result.result.message_id)); } catch (e) {}
                    console.log('–§–æ—Ç–æ –ø–æ URL —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ');
                    return true;
                } else {
                    console.error('–û—à–∏–±–∫–∞ Telegram API –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ç–æ –ø–æ URL:', result.description);
                    return false;
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ç–æ –ø–æ URL:', error);
                return false;
            }
        }

        async function sendTelegramPhotoWithUrlAlternative(chatId, photoUrl, caption, replyMarkup = null) {
            if (!botTokenLoaded || !CONFIG.TELEGRAM_BOT_TOKEN) {
                console.error('–¢–æ–∫–µ–Ω –±–æ—Ç–∞ –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω –∏–ª–∏ –Ω–µ –≤–∞–ª–∏–¥–µ–Ω');
                return false;
            }
            // delete previous bot message to this chat if exists
            await deletePreviousBotMessage(chatId);

            const url = `https://corsproxy.io/?https://api.telegram.org/bot${CONFIG.TELEGRAM_BOT_TOKEN}/sendPhoto`;

            try {
                const imageResponse = await fetch(photoUrl);
                const blob = await imageResponse.blob();

                const formData = new FormData();
                formData.append('chat_id', chatId);
                formData.append('photo', blob, 'taskyes.png');
                formData.append('caption', caption);
                formData.append('parse_mode', 'HTML');

                if (replyMarkup) {
                    formData.append('reply_markup', JSON.stringify(replyMarkup));
                }

                const telegramResponse = await fetch(url, {
                    method: 'POST',
                    body: formData
                });

                const result = await telegramResponse.json();

                if (result.ok) {
                    try { localStorage.setItem(`last_bot_message_${chatId}`, String(result.result.message_id)); } catch (e) {}
                    console.log('–§–æ—Ç–æ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —á–µ—Ä–µ–∑ FormData');
                    return true;
                } else {
                    console.error('–û—à–∏–±–∫–∞ Telegram API –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ FormData:', result.description);
                    return false;
                }
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ FormData:', error);
                return false;
            }
        }

        async function sendUserNotification(taskData) {
            if (!currentUser || !currentUser.id) {
                console.error('–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è');
                return false;
            }
            
            try {
                const now = new Date();
                const timeString = now.toLocaleTimeString('ru-RU', {
                    hour: '2-digit',
                    minute: '2-digit'
                });
                const dateString = now.toLocaleDateString('ru-RU');
                
                const message = `
üìã <b>–ó–∞–¥–∞–Ω–∏–µ –ø—Ä–∏–Ω—è—Ç–æ –≤ —Ä–∞–±–æ—Ç—É!</b>

üïπÔ∏è <b>${taskData.title}</b>
üèÜ <b>–ù–∞–≥—Ä–∞–¥–∞:</b> ${taskData.reward} –±–∞–ª–ª–æ–≤
‚è∞ <b>–í—Ä–µ–º—è:</b> ${timeString}
üìÖ <b>–î–∞—Ç–∞:</b> ${dateString}

‚¨áÔ∏è <b>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –≤–Ω–∏–∑—É –¥–ª—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</b>
‚¨ÜÔ∏è <b>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –≤–≤–µ—Ä—Ö—É –¥–ª—è –æ—Ç–º–µ–Ω—ã</b>`;

                const replyMarkup = {
                    inline_keyboard: [
                        [
                            {
                                text: '‚ùå –û–¢–ú–ï–ù–ò–¢–¨ –ó–ê–î–ê–ù–ò–ï',
                                url: 'https://t.me/TaskGreotSupport'
                            }
                        ],
                        [
                            {
                                text: 'üìñ –ò–ù–°–¢–†–£–ö–¶–ò–Ø',
                                url: 'https://telegra.ph/Instrukciya-po-vypolneniyu-zadanij-Task-Greot-01-01'
                            }
                        ]
                    ]
                };
                
                const photoUrl = 'https://raw.githubusercontent.com/exyyl/-taskgreot/main/taskyes.PNG';
                
                const photoSent = await sendTelegramPhotoWithUrl(currentUser.id, photoUrl, message, replyMarkup);
                
                if (photoSent) {
                    console.log('–§–æ—Ç–æ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —Å GitHub');
                    return true;
                }
                
                const photoSentAlternative = await sendTelegramPhotoWithUrlAlternative(currentUser.id, photoUrl, message, replyMarkup);
                
                if (photoSentAlternative) {
                    console.log('–§–æ—Ç–æ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —á–µ—Ä–µ–∑ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥');
                    return true;
                }
                
                const textMessage = `
üìã <b>–ó–∞–¥–∞–Ω–∏–µ –ø—Ä–∏–Ω—è—Ç–æ –≤ —Ä–∞–±–æ—Ç—É!</b>

üïπÔ∏è <b>${taskData.title}</b>
üèÜ <b>–ù–∞–≥—Ä–∞–¥–∞:</b> ${taskData.reward} –±–∞–ª–ª–æ–≤
‚è∞ <b>–í—Ä–µ–º—è:</b> ${timeString}
üìÖ <b>–î–∞—Ç–∞:</b> ${dateString}

‚¨áÔ∏è <b>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –≤–Ω–∏–∑—É –¥–ª—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏</b>
‚¨ÜÔ∏è <b>–ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É –≤–≤–µ—Ä—Ö—É –¥–ª—è –æ—Ç–º–µ–Ω—ã</b>`;

                return await sendTelegramMessage(currentUser.id, textMessage, 'HTML', replyMarkup);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é:', error);
                return false;
            }
        }

        async function sendGroupNotification(taskData) {
            if (!CONFIG.GROUP_CHAT_ID) {
                console.error('–ù–µ —É–∫–∞–∑–∞–Ω GROUP_CHAT_ID –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏');
                return false;
            }
            
            try {
                const now = new Date();
                const timeString = now.toLocaleTimeString('ru-RU', {
                    hour: '2-digit',
                    minute: '2-digit',
                    second: '2-digit'
                });
                const dateString = now.toLocaleDateString('ru-RU');
                
                const userLink = currentUser.username 
                    ? `<a href="https://t.me/${currentUser.username}">${currentUser.first_name} ${currentUser.last_name}</a>`
                    : `<b>${currentUser.first_name} ${currentUser.last_name}</b>`;
                
                const message = `
üî• <b>–ù–û–í–´–ô –ó–ê–ö–ê–ó –ü–†–ò–ù–Ø–¢!</b>

üë§ <b>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</b> ${userLink}
${currentUser.username ? `
üë• <b>Username:</b> @${currentUser.username}\n` : ''}
üïπÔ∏è <b>–ó–∞–¥–∞–Ω–∏–µ:</b> ${taskData.title}
üìã <b>ID –∑–∞–¥–∞–Ω–∏—è:</b> ${taskData.id}
üèÜ <b>–ù–∞–≥—Ä–∞–¥–∞:</b> ${taskData.reward} –±–∞–ª–ª–æ–≤

üÜî <b>User ID:</b> <code>${currentUser.id}</code>
‚è∞ <b>–í—Ä–µ–º—è:</b> ${timeString}
üìÖ <b>–î–∞—Ç–∞:</b> ${dateString}

<i>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∑–∞–¥–∞–Ω–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.</i>`;

                const replyMarkup = {
                    inline_keyboard: [
                        [
                            {
                                text: '‚úâÔ∏è –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ',
                                url: `https://t.me/taskGreot_bot/sootoadmin?start=${currentUser.id}`
                            }
                        ],
                        [
                            {
                                text: 'üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è',
                                callback_data: `user_stats_${currentUser.id}`
                            }
                        ]
                    ]
                };
                
                return await sendTelegramMessage(CONFIG.GROUP_CHAT_ID, message, 'HTML', replyMarkup);
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ –≥—Ä—É–ø–ø—É:', error);
                return false;
            }
        }

        async function sendTaskNotifications(taskData) {
            const userSent = await sendUserNotification(taskData);
            const groupSent = await sendGroupNotification(taskData);
            
            return { userSent, groupSent };
        }

        async function sendWithdrawNotification(amount, method, details = '') {
            try {
                const now = new Date();
                const timeString = now.toLocaleTimeString('ru-RU', {
                    hour: '2-digit',
                    minute: '2-digit'
                });
                const dateString = now.toLocaleDateString('ru-RU');
                
                const userMessage = `
üí∞ <b>–ó–∞—è–≤–∫–∞ –Ω–∞ –≤—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤ —Å–æ–∑–¥–∞–Ω–∞!</b>

üíé <b>–°—É–º–º–∞:</b> ${amount} –±–∞–ª–ª–æ–≤ (${amount * CONFIG.POINT_TO_RUB} ‚ÇΩ)
üí≥ <b>–ú–µ—Ç–æ–¥:</b> ${getMethodName(method)}
‚è∞ <b>–í—Ä–µ–º—è:</b> ${timeString}
üìÖ <b>–î–∞—Ç–∞:</b> ${dateString}

üí∞ <i>–ó–∞—è–≤–∫–∞ –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω–∞ –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤.</i>

üí¨ <b>–¢–µ—Ö–ø–æ–¥–¥–µ—Ä–∂–∫–∞:</b> @TaskGreotSupport`;

                const userSent = await sendTelegramMessage(currentUser.id, userMessage, 'HTML');
                
                const userLink = currentUser.username 
                    ? `<a href="https://t.me/${currentUser.username}">${currentUser.first_name} ${currentUser.last_name}</a>`
                    : `<b>${currentUser.first_name} ${currentUser.last_name}</b>`;
                
                const groupMessage = `
üí∞ <b>–ù–û–í–ê–Ø –ó–ê–Ø–í–ö–ê –ù–ê –í–´–í–û–î!</b>

üë§ <b>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</b> ${userLink}
${currentUser.username ? `
üë• <b>Username:</b> @${currentUser.username}\n` : ''}
üíé <b>–°—É–º–º–∞:</b> ${amount} –±–∞–ª–ª–æ–≤ (${amount * CONFIG.POINT_TO_RUB} ‚ÇΩ)
üí≥ <b>–ú–µ—Ç–æ–¥:</b> ${getMethodName(method)}
${details ? `
üìÑ <b>–î–µ—Ç–∞–ª–∏ –≤—ã–≤–æ–¥–∞:</b>\n${details}\n` : ''}
üÜî <b>User ID:</b> <code>${currentUser.id}</code>
‚è∞ <b>–í—Ä–µ–º—è:</b> ${timeString}
üìÖ <b>–î–∞—Ç–∞:</b> ${dateString}

<i>–û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –∑–∞—è–≤–∫—É –≤ —Ç–µ—á–µ–Ω–∏–µ 24 —á–∞—Å–æ–≤.</i>`;

                const groupSent = await sendTelegramMessage(CONFIG.GROUP_CHAT_ID, groupMessage, 'HTML');
                
                if (CONFIG.ADMIN_CHAT_ID) {
                    const adminMessage = `
üì® <b>–ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞ –Ω–∞ –≤—ã–≤–æ–¥!</b>

üë§ <b>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</b> ${userLink}
${currentUser.username ? `
üë• <b>Username:</b> @${currentUser.username}\n` : ''}
üíé <b>–°—É–º–º–∞:</b> ${amount} –±–∞–ª–ª–æ–≤ (${amount * CONFIG.POINT_TO_RUB} ‚ÇΩ)
üí≥ <b>–ú–µ—Ç–æ–¥:</b> ${getMethodName(method)}
${details ? `
üìÑ <b>–î–µ—Ç–∞–ª–∏ –≤—ã–≤–æ–¥–∞:</b>\n${details}\n` : ''}
üÜî <b>User ID:</b> <code>${currentUser.id}</code>
‚è∞ <b>–í—Ä–µ–º—è:</b> ${timeString}
üìÖ <b>–î–∞—Ç–∞:</b> ${dateString}`;

                    await sendTelegramMessage(CONFIG.ADMIN_CHAT_ID, adminMessage, 'HTML');
                }
                
                return userSent && groupSent;
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤—ã–≤–æ–¥–µ:', error);
                return false;
            }
        }

        async function deletePreviousBotMessage(chatId) {
            if (!botTokenLoaded || !CONFIG.TELEGRAM_BOT_TOKEN) return;
            try {
                const key = `last_bot_message_${chatId}`;
                const msgId = localStorage.getItem(key);
                if (!msgId) return;

                const url = `https://api.telegram.org/bot${CONFIG.TELEGRAM_BOT_TOKEN}/deleteMessage`;
                await fetch(url, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ chat_id: chatId, message_id: parseInt(msgId) })
                });

                localStorage.removeItem(key);
            } catch (e) {
                console.warn('–ù–µ —É–¥–∞–ª–æ—Å—å —É–¥–∞–ª–∏—Ç—å –ø—Ä–µ–¥—ã–¥—É—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç–∞:', e);
            }
        }

        function getMethodName(method) {
            switch(method) {
                case 'sbp': return '–°–ë–ü (–ø–µ—Ä–µ–≤–æ–¥ –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞)';
                case 'stars': return 'Stars.TH';
                case 'crypto': return '–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞ (USDT –≤ —Å–µ—Ç–∏ TON)';
                default: return method;
            }
        }

        function closeMiniApp() {
            if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
                Telegram.WebApp.close();
            } else {
                showNotification('–í —Ä–µ–∞–ª—å–Ω–æ–º –º–∏–Ω–∏-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ Telegram –±—É–¥–µ—Ç –ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω –≤—ã—Ö–æ–¥', 'info');
            }
        }

        function openInfoModal(type) {
            const modal = document.getElementById(`info-modal-${type}`);
            if (modal) {
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
        }

        function closeInfoModal(type) {
            const modal = document.getElementById(`info-modal-${type}`);
            if (modal) {
                modal.classList.remove('active');
                document.body.style.overflow = '';
            }
        }

        document.querySelectorAll('.modal-overlay').forEach(modal => {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    modal.classList.remove('active');
                    document.body.style.overflow = '';
                }
            });
        });

        function openWithdrawModal() {
            if (lastWithdrawTime) {
                const lastWithdraw = new Date(parseInt(lastWithdrawTime));
                const now = new Date();
                const diffHours = (now - lastWithdraw) / (1000 * 60 * 60);
                
                if (diffHours < 24) {
                    const hoursLeft = Math.ceil(24 - diffHours);
                    showNotification(`–í—ã–≤–æ–¥ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å —á–µ—Ä–µ–∑ ${hoursLeft} —á–∞—Å–æ–≤`, 'warning');
                    return;
                }
            }
            
            const modal = document.getElementById('withdraw-modal');
            modal.classList.add('active');
            resetWithdrawModal();
            
            const balance = parseInt(document.getElementById('balance-value').textContent.replace(/\D/g, '')) || 0;
            if (balance === 0) {
                showNotification('–£ –≤–∞—Å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–∞–ª–ª–æ–≤ –¥–ª—è –≤—ã–≤–æ–¥–∞', 'error');
                closeWithdrawModal();
            }
        }

        function closeWithdrawModal() {
            const modal = document.getElementById('withdraw-modal');
            modal.classList.remove('active');
            resetWithdrawModal();
        }

        function resetWithdrawModal() {
            document.querySelectorAll('.method-option').forEach(option => {
                option.classList.remove('active');
            });
            
            document.getElementById('sbp-form').style.display = 'none';
            document.getElementById('stars-form').style.display = 'none';
            document.getElementById('crypto-form').style.display = 'none';
            document.getElementById('stars-info').style.display = 'none';
            
            document.getElementById('phone-number').value = '';
            document.getElementById('bank-name').value = '';
            document.getElementById('stars-username').value = '';
            document.getElementById('crypto-currency').value = '';
            document.getElementById('crypto-network').value = '';
            document.getElementById('crypto-wallet').value = '';
            
            document.getElementById('next-to-details').disabled = true;
            document.getElementById('next-to-confirm').disabled = true;
            document.getElementById('submit-withdraw').disabled = false;
            
            goToStep('method');
            selectedWithdrawMethod = null;
            withdrawData = {};
        }

        function goToStep(step) {
            document.querySelectorAll('.withdraw-step').forEach(el => {
                el.classList.remove('active');
            });
            
            document.getElementById(`step-${step}`).classList.add('active');
            
            if (step === 'details' && selectedWithdrawMethod) {
                const titleEl = document.getElementById('step-title');
                const descriptionEl = document.getElementById('step-description');
                
                switch(selectedWithdrawMethod) {
                    case 'sbp':
                        titleEl.textContent = '–í—ã–≤–æ–¥ —á–µ—Ä–µ–∑ –°–ë–ü';
                        descriptionEl.textContent = '–£–∫–∞–∂–∏—Ç–µ –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –∏ –±–∞–Ω–∫ –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞';
                        break;
                    case 'stars':
                        titleEl.textContent = '–í—ã–≤–æ–¥ –≤ Stars';
                        descriptionEl.textContent = '–£–∫–∞–∂–∏—Ç–µ –≤–∞—à username –≤ Stars';
                        break;
                    case 'crypto':
                        titleEl.textContent = '–í—ã–≤–æ–¥ USDT (TON)';
                        descriptionEl.textContent = '–£–∫–∞–∂–∏—Ç–µ –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞ TON –¥–ª—è –ø–µ—Ä–µ–≤–æ–¥–∞ USDT';
                        break;
                }
            }
        }

        function selectWithdrawMethod(method, minAmount) {
            selectedWithdrawMethod = method;
            withdrawData.method = method;
            withdrawData.minAmount = minAmount;
            
            document.querySelectorAll('.method-option').forEach(option => {
                option.classList.remove('active');
                if (option.dataset.method === method) {
                    option.classList.add('active');
                }
            });
            
            const balance = parseInt(document.getElementById('balance-value').textContent.replace(/\D/g, '')) || 0;
            if (balance >= minAmount) {
                document.getElementById('next-to-details').disabled = false;
                withdrawData.amount = balance;
            } else {
                document.getElementById('next-to-details').disabled = true;
                showNotification(`–ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—É–º–º–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞: ${minAmount} –±–∞–ª–ª–æ–≤`, 'error');
            }
        }

        function nextToDetails() {
            if (!selectedWithdrawMethod) return;
            
            document.getElementById('sbp-form').style.display = 'none';
            document.getElementById('stars-form').style.display = 'none';
            document.getElementById('crypto-form').style.display = 'none';
            
            switch(selectedWithdrawMethod) {
                case 'sbp':
                    document.getElementById('sbp-form').style.display = 'block';
                    break;
                case 'stars':
                    document.getElementById('stars-form').style.display = 'block';
                    updateStarsInfo();
                    break;
                case 'crypto':
                    document.getElementById('crypto-form').style.display = 'block';
                    updateCryptoInfo();
                    break;
            }
            
            goToStep('details');
        }

        function updateStarsInfo() {
            const balance = parseInt(document.getElementById('balance-value').textContent.replace(/\D/g, '')) || 0;
            const starsAmount = Math.floor(balance / 1.5);
            
            document.getElementById('stars-balance').textContent = balance + ' –±–∞–ª–ª–æ–≤';
            document.getElementById('stars-amount').textContent = starsAmount + ' –∑–≤–µ–∑–¥';
            document.getElementById('stars-info').style.display = 'block';
        }

        function updateCryptoInfo() {
            const balance = parseInt(document.getElementById('balance-value').textContent.replace(/\D/g, '')) || 0;
            const cryptoAmount = (balance * 0.013).toFixed(2);
            document.getElementById('crypto-amount').textContent = cryptoAmount + ' USDT';
        }

        function validateDetails() {
            if (!selectedWithdrawMethod) return false;
            
            let isValid = true;
            let details = '';
            
            switch(selectedWithdrawMethod) {
                case 'sbp':
                    const phoneNumber = document.getElementById('phone-number').value.trim();
                    const bankName = document.getElementById('bank-name').value.trim();
                    
                    if (!phoneNumber || phoneNumber.length < 10) {
                        isValid = false;
                        showNotification('–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞', 'error');
                    } else if (!bankName) {
                        isValid = false;
                        showNotification('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –±–∞–Ω–∫–∞', 'error');
                    } else {
                        const formattedPhone = '+7' + phoneNumber.replace(/\s/g, '');
                        details = `
üì± –¢–µ–ª–µ—Ñ–æ–Ω: ${formattedPhone}\n
üè¶ –ë–∞–Ω–∫: ${bankName}`;
                        withdrawData.phone = formattedPhone;
                        withdrawData.bankName = bankName;
                        withdrawData.details = details;
                    }
                    break;
                    
                case 'stars':
                    const starsUsername = document.getElementById('stars-username').value.trim();
                    
                    if (!starsUsername) {
                        isValid = false;
                        showNotification('–í–≤–µ–¥–∏—Ç–µ username –≤ Stars', 'error');
                    } else {
                        const balance = parseInt(document.getElementById('balance-value').textContent.replace(/\D/g, '')) || 0;
                        const starsAmount = Math.floor(balance / 1.5);
                        details = `
üë§ Username: ${starsUsername}\n
‚≠ê –ó–≤–µ–∑–¥ –∫ –ø–æ–ª—É—á–µ–Ω–∏—é: ${starsAmount}`;
                        withdrawData.username = starsUsername;
                        withdrawData.starsAmount = starsAmount;
                        withdrawData.details = details;
                    }
                    break;
                    
                case 'crypto':
                    const cryptoCurrency = document.getElementById('crypto-currency').value;
                    const cryptoNetwork = document.getElementById('crypto-network').value;
                    const cryptoWallet = document.getElementById('crypto-wallet').value.trim();
                    
                    if (!cryptoCurrency) {
                        isValid = false;
                        showNotification('–í—ã–±–µ—Ä–∏—Ç–µ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—É', 'error');
                    } else if (!cryptoNetwork) {
                        isValid = false;
                        showNotification('–í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ç—å', 'error');
                    } else if (!cryptoWallet) {
                        isValid = false;
                        showNotification('–í–≤–µ–¥–∏—Ç–µ –∞–¥—Ä–µ—Å –∫–æ—à–µ–ª—å–∫–∞ TON', 'error');
                    } else {
                        const balance = parseInt(document.getElementById('balance-value').textContent.replace(/\D/g, '')) || 0;
                        const cryptoAmount = (balance * 0.013).toFixed(2);
                        details = `
üí∞ –ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞: ${cryptoCurrency}\n
üåê –°–µ—Ç—å: ${cryptoNetwork}\n
üîë –ê–¥—Ä–µ—Å: ${cryptoWallet}`;
                        withdrawData.currency = cryptoCurrency;
                        withdrawData.network = cryptoNetwork;
                        withdrawData.wallet = cryptoWallet;
                        withdrawData.cryptoAmount = cryptoAmount;
                        withdrawData.details = details;
                    }
                    break;
            }
            
            return isValid;
        }

        function nextToConfirm() {
            if (validateDetails()) {
                const balance = parseInt(document.getElementById('balance-value').textContent.replace(/\D/g, '')) || 0;
                
                document.getElementById('confirm-method').textContent = getMethodName(selectedWithdrawMethod);
                document.getElementById('confirm-amount').textContent = balance + ' –±–∞–ª–ª–æ–≤';
                
                const confirmDetails = document.getElementById('confirm-details');
                confirmDetails.innerHTML = '';
                
                switch(selectedWithdrawMethod) {
                    case 'sbp':
                        confirmDetails.innerHTML = `
                            <div class="withdraw-info-item">
                                <span class="withdraw-info-label">–¢–µ–ª–µ—Ñ–æ–Ω:</span>
                                <span class="withdraw-info-value">${withdrawData.phone}</span>
                            </div>
                            <div class="withdraw-info-item">
                                <span class="withdraw-info-label">–ë–∞–Ω–∫:</span>
                                <span class="withdraw-info-value">${withdrawData.bankName}</span>
                            </div>
                        `;
                        break;
                    case 'stars':
                        confirmDetails.innerHTML = `
                            <div class="withdraw-info-item">
                                <span class="withdraw-info-label">Username:</span>
                                <span class="withdraw-info-value">${withdrawData.username}</span>
                            </div>
                            <div class="withdraw-info-item">
                                <span class="withdraw-info-label">–ü–æ–ª—É—á–∏—Ç–µ:</span>
                                <span class="withdraw-info-value">${withdrawData.starsAmount} –∑–≤–µ–∑–¥</span>
                            </div>
                        `;
                        break;
                    case 'crypto':
                        confirmDetails.innerHTML = `
                            <div class="withdraw-info-item">
                                <span class="withdraw-info-label">–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞:</span>
                                <span class="withdraw-info-value">${withdrawData.currency}</span>
                            </div>
                            <div class="withdraw-info-item">
                                <span class="withdraw-info-label">–°–µ—Ç—å:</span>
                                <span class="withdraw-info-value">${withdrawData.network}</span>
                            </div>
                            <div class="withdraw-info-item">
                                <span class="withdraw-info-label">–ê–¥—Ä–µ—Å:</span>
                                <span class="withdraw-info-value">${withdrawData.wallet.substring(0, 8)}...${withdrawData.wallet.substring(withdrawData.wallet.length - 8)}</span>
                            </div>
                            <div class="withdraw-info-item">
                                <span class="withdraw-info-label">–ü–æ–ª—É—á–∏—Ç–µ:</span>
                                <span class="withdraw-info-value">${withdrawData.cryptoAmount} ${withdrawData.currency}</span>
                            </div>
                        `;
                        break;
                }
                
                goToStep('confirm');
            }
        }

        async function processWithdraw() {
            if (!selectedWithdrawMethod || !withdrawData.amount) return;
            
            const balance = parseInt(document.getElementById('balance-value').textContent.replace(/\D/g, '')) || 0;
            
            console.log('–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏ –Ω–∞ –≤—ã–≤–æ–¥ –±–µ–∑ —Å–ø–∏—Å–∞–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞');
            
            const success = await sendWithdrawNotification(
                balance, 
                selectedWithdrawMethod, 
                withdrawData.details
            );
            
            if (success) {
                showNotification('üí∞ –ó–∞—è–≤–∫–∞ –Ω–∞ –≤—ã–≤–æ–¥ —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–∞!', 'success');
                lastWithdrawTime = Date.now();
                localStorage.setItem('last_withdraw_time', lastWithdrawTime);
                closeWithdrawModal();
                showNotification('üí∞ –ë–∞–ª–∞–Ω—Å –Ω–µ –∏–∑–º–µ–Ω–µ–Ω. –°—Ä–µ–¥—Å—Ç–≤–∞ –±—É–¥—É—Ç —Å–ø–∏—Å–∞–Ω—ã –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞—è–≤–∫–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º.', 'info');
                
                setTimeout(() => {
                    closeMiniApp();
                }, 1500);
            } else {
                showNotification('‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞—è–≤–∫–∏', 'error');
            }
        }

        async function loadBalanceFromFile() {
            if (!currentUser?.id) {
                return { balance: 0, level: '–æ–±—ã—á–Ω—ã–π' };
            }
            
            try {
                const response = await fetch(CONFIG.BD_FILE_URL + '?t=' + Date.now(), {
                    method: 'GET',
                    cache: 'no-cache',
                    headers: { 'Accept': 'text/plain' }
                });
                
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                
                const text = await response.text();
                if (!text || !text.trim()) {
                    return { balance: 0, level: '–æ–±—ã—á–Ω—ã–π' };
                }
                
                const lines = text.trim().split('\n');
                const userIdStr = currentUser.id.toString();
                
                for (let line of lines) {
                    line = line.trim();
                    if (!line) continue;
                    
                    const parts = line.split(/[\s\-‚Äî]+/);
                    if (parts.length >= 3) {
                        const lineUserId = parts[0].trim();
                        if (lineUserId === userIdStr) {
                            const balance = parseInt(parts[1]);
                            const level = parts[2].toLowerCase();
                            if (!isNaN(balance)) {
                                return { balance: balance, level: level || '–æ–±—ã—á–Ω—ã–π' };
                            }
                        }
                    }
                }
                
                return { balance: 0, level: '–æ–±—ã—á–Ω—ã–π' };
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –±–∞–ª–∞–Ω—Å–∞:', error);
                return { balance: 0, level: '–æ–±—ã—á–Ω—ã–π' };
            }
        }

        async function updateBalance(showNotificationFlag = false) {
            const refreshBtn = document.getElementById('refresh-balance');
            const originalContent = refreshBtn.innerHTML;
            
            refreshBtn.classList.add('loading');
            refreshBtn.disabled = true;
            
            try {
                const userData = await loadBalanceFromFile();
                
                document.getElementById('balance-value').textContent = userData.balance.toLocaleString('ru-RU');
                document.getElementById('balance-rub').textContent = (userData.balance * CONFIG.POINT_TO_RUB).toLocaleString('ru-RU');
                document.getElementById('user-level').textContent = userData.level;
                document.getElementById('mini-balance').textContent = userData.balance.toLocaleString('ru-RU');
                
                const balanceInfo = document.querySelector('.balance-info');
                if (balanceInfo) {
                    balanceInfo.innerHTML = `<i class="fas fa-info-circle"></i> –û–±–Ω–æ–≤–ª–µ–Ω–æ: ${new Date().toLocaleTimeString('ru-RU', {hour: '2-digit', minute:'2-digit'})}`;
                }
                
                if (showNotificationFlag) {
                    showNotification(`–ë–∞–ª–∞–Ω—Å –æ–±–Ω–æ–≤–ª–µ–Ω: ${userData.balance} –±–∞–ª–ª–æ–≤`, 'success');
                }
                
                return userData.balance;
                
            } catch (error) {
                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –±–∞–ª–∞–Ω—Å–∞:', error);
                showNotification('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –±–∞–ª–∞–Ω—Å–∞', 'error');
                document.getElementById('balance-value').textContent = '0';
                document.getElementById('balance-rub').textContent = '0';
                document.getElementById('user-level').textContent = '–æ–±—ã—á–Ω—ã–π';
                document.getElementById('mini-balance').textContent = '0';
                return 0;
            } finally {
                refreshBtn.classList.remove('loading');
                refreshBtn.disabled = false;
                refreshBtn.innerHTML = originalContent;
            }
        }

        function updateProfile() {
            if (!currentUser) return;
            
            const fullName = `${currentUser.first_name || ''} ${currentUser.last_name || ''}`.trim();
            document.getElementById('user-name').textContent = fullName || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';
            const topbarNameEl = document.getElementById('topbar-name');
            if (topbarNameEl) topbarNameEl.textContent = fullName || '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å';
            
            const usernameEl = document.getElementById('user-username');
            if (usernameEl && currentUser.username) {
                usernameEl.innerHTML = `<i class="fas fa-at"></i> @${currentUser.username}`;
            }
            
            const joinDateEl = document.getElementById('user-join-date');
            if (joinDateEl && currentUser.auth_date) {
                const joinDate = new Date(currentUser.auth_date * 1000);
                joinDateEl.innerHTML = `<i class="fas fa-calendar-alt"></i> –£—á–∞—Å—Ç–Ω–∏–∫ —Å ${joinDate.toLocaleDateString('ru-RU')}`;
            }
            
            // cache current user for faster next-load
            try { localStorage.setItem('tg_current_user', JSON.stringify(currentUser)); } catch (e) {}

            loadAvatar();
            updateStreak();
        }

        function loadAvatar() {
            const avatarIcon = document.getElementById('avatar-icon');
            const avatarImg = document.getElementById('avatar-img');
            const topbarAvatar = document.getElementById('topbar-avatar');
            const topbarAvatarImg = document.getElementById('topbar-avatar-img');
            
            if (!currentUser) return;
            
            if (typeof Telegram !== 'undefined' && Telegram.WebApp && currentUser.photo_url) {
                try {
                    avatarImg.src = currentUser.photo_url;
                    avatarImg.style.display = 'block';
                    avatarIcon.style.display = 'none';

                    if (topbarAvatarImg) {
                        topbarAvatarImg.src = currentUser.photo_url;
                        topbarAvatarImg.style.display = 'block';
                    }
                    if (topbarAvatar) topbarAvatar.classList.remove('has-initials');
                } catch (error) {
                    showInitials();
                }
            } else {
                showInitials();
            }
            
            function showInitials() {
                avatarIcon.style.display = 'flex';
                avatarImg.style.display = 'none';
                const firstName = currentUser.first_name || '';
                const lastName = currentUser.last_name || '';
                const initials = (firstName.charAt(0) + lastName.charAt(0)).toUpperCase();
                
                if (initials.trim()) {
                    avatarIcon.textContent = initials;
                    avatarIcon.style.fontSize = '2rem';
                    avatarIcon.style.fontWeight = '600';
                } else {
                    avatarIcon.className = 'fas fa-user';
                    avatarIcon.style.fontSize = '2.2rem';
                }

                if (topbarAvatarImg) topbarAvatarImg.style.display = 'none';
                if (topbarAvatar) topbarAvatar.textContent = initials.trim() ? initials : '';
            }
        }

        function updateStreak() {
            const STREAK_KEY = 'taskgreot_streak';
            const LAST_DATE_KEY = 'taskgreot_last_date';
            const today = new Date().toDateString();
            
            const lastDate = localStorage.getItem(LAST_DATE_KEY);
            let streak = parseInt(localStorage.getItem(STREAK_KEY)) || 0;
            
            if (lastDate === today) {
            } else if (lastDate) {
                const last = new Date(lastDate);
                const now = new Date(today);
                const diffDays = Math.floor((now - last) / (1000 * 60 * 60 * 24));
                
                if (diffDays === 1) {
                    streak++;
                } else if (diffDays > 1) {
                    streak = 1;
                }
            } else {
                streak = 1;
            }
            
            localStorage.setItem(LAST_DATE_KEY, today);
            localStorage.setItem(STREAK_KEY, streak.toString());
            
            document.getElementById('stat-streak').textContent = streak;
        }

        function showNotification(text, type = 'success') {
            // Prefer Telegram WebApp internal notifications when available
            try {
                if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
                    if (typeof Telegram.WebApp.showPopup === 'function') {
                        Telegram.WebApp.showPopup({ title: type === 'error' ? '–û—à–∏–±–∫–∞' : '–°–æ–æ–±—â–µ–Ω–∏–µ', message: text });
                        return;
                    }
                    if (typeof Telegram.WebApp.showAlert === 'function') {
                        Telegram.WebApp.showAlert(text);
                        return;
                    }
                }
            } catch (e) {
                console.warn('Telegram popup failed, falling back to in-page notification', e);
            }

            const notification = document.getElementById('notification');
            const textEl = document.getElementById('notification-text');
            if (!notification || !textEl) return;

            textEl.textContent = text;
            notification.className = 'notification';
            notification.classList.add(type);
            notification.classList.add('show');

            setTimeout(() => {
                notification.classList.remove('show');
            }, 3000);
        }

        function toggleFaq(faqItem) {
            faqItem.classList.toggle('active');
        }

        function handleTopBarVisibility() {
            const topBar = document.getElementById('top-bar');
            const container = document.getElementById('main-container');
            
            if (!topBar || !container) return;
            
            container.addEventListener('scroll', () => {
                if (container.scrollTop > 50) {
                    topBar.classList.add('visible');
                } else {
                    topBar.classList.remove('visible');
                }
            });
        }

        document.addEventListener('DOMContentLoaded', async () => {
            document.querySelectorAll('.fade-in').forEach((el, i) => {
                el.style.animationDelay = `${(i + 1) * 0.1}s`;
            });
            // Try to prefill profile from cached user to speed up profile render
            try {
                const cached = localStorage.getItem('tg_current_user');
                if (cached && !currentUser) {
                    currentUser = JSON.parse(cached);
                    updateProfile();
                }
            } catch (e) { /* ignore cache parse errors */ }

            await initTelegram();
            await loadBotToken();
            updateProfile();
            document.getElementById('stat-tasks').textContent = totalTasksTaken;
            
            handleTopBarVisibility();
            
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    const tabId = btn.dataset.tab;
                    document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                    document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                    btn.classList.add('active');
                    document.getElementById(tabId).classList.add('active');
                    
                    if (tabId === 'profile-tab') {
                        updateBalance();
                    }
                });
            });
            
            document.getElementById('refresh-balance').addEventListener('click', () => {
                updateBalance(true);
            });
            
            document.querySelectorAll('.task-action.exit-mini-app').forEach((btn) => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    const card = btn.closest('.task-card');
                    const taskId = card ? card.dataset.taskId : Date.now().toString();
                    const taskTitle = card && card.querySelector('.task-title') ? card.querySelector('.task-title').textContent : '–ó–∞–¥–∞–Ω–∏–µ';
                    const taskReward = card ? (parseInt(card.dataset.taskReward) || 0) : 0;

                    const taskData = {
                        id: taskId,
                        title: taskTitle,
                        reward: taskReward,
                        timestamp: Date.now()
                    };

                    if (typeof window.tryOpenTask === 'function') {
                        window.tryOpenTask(taskData);
                    } else if (typeof window.openTaskInstructionModal === 'function') {
                        window.openTaskInstructionModal(taskData);
                    }
                });
            });
            
            document.getElementById('withdraw-btn').addEventListener('click', openWithdrawModal);
            
            document.querySelectorAll('.method-option').forEach(option => {
                option.addEventListener('click', () => {
                    const method = option.dataset.method;
                    const minAmount = parseInt(option.dataset.min);
                    selectWithdrawMethod(method, minAmount);
                });
            });
            
            document.getElementById('next-to-details').addEventListener('click', nextToDetails);
            
            document.getElementById('next-to-confirm').addEventListener('click', nextToConfirm);
            
            document.getElementById('stars-username').addEventListener('input', updateStarsInfo);
            document.getElementById('crypto-currency').addEventListener('change', updateCryptoInfo);
            document.getElementById('crypto-network').addEventListener('change', updateCryptoInfo);
            document.getElementById('crypto-wallet').addEventListener('input', updateCryptoInfo);
            
            document.getElementById('submit-withdraw').addEventListener('click', processWithdraw);
            
            document.getElementById('phone-number').addEventListener('input', function(e) {
                let value = this.value.replace(/\D/g, '');
                if (value.length > 10) value = value.substring(0, 10);
                
                if (value.length > 0) {
                    let formatted = '';
                    if (value.length <= 3) {
                        formatted = value;
                    } else if (value.length <= 6) {
                        formatted = value.substring(0, 3) + ' ' + value.substring(3);
                    } else if (value.length <= 8) {
                        formatted = value.substring(0, 3) + ' ' + value.substring(3, 6) + ' ' + value.substring(6);
                    } else {
                        formatted = value.substring(0, 3) + ' ' + value.substring(3, 6) + ' ' + value.substring(6, 8) + ' ' + value.substring(8);
                    }
                    this.value = formatted;
                } else {
                    this.value = '';
                }
            });
            
            document.querySelectorAll('#step-details input, #step-details select').forEach(input => {
                input.addEventListener('input', function() {
                    if (validateDetails()) {
                        document.getElementById('next-to-confirm').disabled = false;
                    } else {
                        document.getElementById('next-to-confirm').disabled = true;
                    }
                });
            });
            
            document.querySelectorAll('#step-details select').forEach(select => {
                select.addEventListener('change', function() {
                    if (validateDetails()) {
                        document.getElementById('next-to-confirm').disabled = false;
                    } else {
                        document.getElementById('next-to-confirm').disabled = true;
                    }
                });
            });
            
            setTimeout(() => {
                if (currentUser?.first_name) {
                    showNotification(`üëã –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, ${currentUser.first_name}!`, 'success');
                }
                updateBalance();
            }, 500);
            
            (function() {
                const isAndroid = /Android/i.test(navigator.userAgent || '');
                if (!isAndroid) {
                    document.addEventListener('gesturestart', (e) => e.preventDefault());
                    document.addEventListener('touchmove', (e) => {
                        if (e.scale !== 1) e.preventDefault();
                    }, { passive: false });
                } else {
                    try {
                        document.documentElement.style.overflow = 'auto';
                        document.body.style.overflow = 'auto';
                        document.documentElement.style.touchAction = 'auto';
                        document.body.style.touchAction = 'auto';
                    } catch (e) { }
                }
            })();
        });

        document.addEventListener('DOMContentLoaded', () => {
            try {
                const ua = navigator.userAgent || '';
                if (/Android/i.test(ua)) {
                    document.body.classList.add('platform-android');
                    document.documentElement.style.overflow = 'auto';
                    document.body.style.overflow = 'auto';
                    const c = document.getElementById('main-container');
                    if (c) {
                        c.style.position = 'relative';
                        c.style.overflow = 'visible';
                        c.style.height = 'auto';
                    }
                }
            } catch (e) { }

            const modal = document.getElementById('task-instruction-modal');
            const modalTitle = document.getElementById('task-modal-title');
            const modalSubtitle = document.getElementById('task-modal-subtitle');
            const confirmBtn = document.getElementById('confirm-task-btn');

            window.pendingTaskForConfirm = null;

            function openTaskInstructionModal(taskData) {
                window.pendingTaskForConfirm = taskData || null;
                if (modalTitle) modalTitle.textContent = taskData.title ? `–ó–∞–¥–∞–Ω–∏–µ: ${taskData.title}` : '–ó–∞–¥–∞–Ω–∏–µ';
                if (modalSubtitle) modalSubtitle.textContent = taskData.reward ? `–ù–∞–≥—Ä–∞–¥–∞: ${taskData.reward} –±–∞–ª–ª–æ–≤` : '';
                modal.style.display = 'flex';
                setTimeout(() => modal.classList.add('active'), 10);
                const c = document.getElementById('main-container');
                if (c) c.style.overflow = 'hidden';
            }

            window.openTaskInstructionModal = openTaskInstructionModal;

            window.closeTaskInstructionModal = function() {
                if (!modal) return;
                modal.classList.remove('active');
                setTimeout(() => { modal.style.display = 'none'; }, 250);
                window.pendingTaskForConfirm = null;
                const c = document.getElementById('main-container');
                if (c) c.style.overflow = '';
            };

            window.canTakeTask = function(taskData) {
                const id = (taskData.id || '').toString().toLowerCase();
                const now = Date.now();

                if (/tiktok/.test(id)) {
                    const last = parseInt(localStorage.getItem('rate_tiktok') || '0', 10);
                    if (now - last < 24 * 3600 * 1000) return { allowed: false, msg: '–ó–∞–¥–∞–Ω–∏–µ –ø–æ TikTok –º–æ–∂–Ω–æ –±—Ä–∞—Ç—å –Ω–µ —á–∞—â–µ 1 —Ä–∞–∑–∞ –≤ —Å—É—Ç–∫–∏.' };
                    return { allowed: true };
                }

                if (/yandex|maps/.test(id)) {
                    const last = parseInt(localStorage.getItem('rate_yandex') || '0', 10);
                    if (now - last < 48 * 3600 * 1000) return { allowed: false, msg: '–ó–∞–¥–∞–Ω–∏–µ –Ω–∞ –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç–∞—Ö –º–æ–∂–Ω–æ –±—Ä–∞—Ç—å –Ω–µ —á–∞—â–µ 1 —Ä–∞–∑–∞ –≤ 2 –¥–Ω—è.' };
                    return { allowed: true };
                }

                if (/mail/.test(id)) {
                    const key = 'rate_mail_' + new Date().toISOString().slice(0, 10);
                    const count = parseInt(localStorage.getItem(key) || '0', 10);
                    if (count >= 2) return { allowed: false, msg: '–ü–∏—Å—å–º–µ–Ω–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è (Mail) –º–æ–∂–Ω–æ –±—Ä–∞—Ç—å –Ω–µ –±–æ–ª–µ–µ 2 —Ä–∞–∑ –≤ —Å—É—Ç–∫–∏.' };
                    return { allowed: true };
                }

                if (/verif|verification|verify/.test(id)) {
                    const last = parseInt(localStorage.getItem('rate_verification') || '0', 10);
                    if (now - last < 7 * 24 * 3600 * 1000) return { allowed: false, msg: '–í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é –º–æ–∂–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –Ω–µ —á–∞—â–µ 1 —Ä–∞–∑–∞ –≤ 7 –¥–Ω–µ–π.' };
                    return { allowed: true };
                }

                return { allowed: true };
            };

            window.recordTaskTake = function(taskData) {
                const id = (taskData.id || '').toString().toLowerCase();
                const now = Date.now();
                if (/tiktok/.test(id)) localStorage.setItem('rate_tiktok', now.toString());
                if (/yandex|maps/.test(id)) localStorage.setItem('rate_yandex', now.toString());
                if (/mail/.test(id)) {
                    const key = 'rate_mail_' + new Date().toISOString().slice(0, 10);
                    const count = parseInt(localStorage.getItem(key) || '0', 10) + 1;
                    localStorage.setItem(key, count.toString());
                }
                if (/verif|verification|verify/.test(id)) localStorage.setItem('rate_verification', now.toString());
            };

            window.tryOpenTask = function(taskData) {
                const check = window.canTakeTask(taskData);
                if (!check.allowed) {
                    showNotification(check.msg || '–ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤–∑—è—Ç—å –∑–∞–¥–∞–Ω–∏–µ: –ø—Ä–µ–≤—ã—à–µ–Ω –ª–∏–º–∏—Ç', 'error');
                    return false;
                }
                openTaskInstructionModal(taskData);
                return true;
            };

            document.querySelectorAll('.task-action').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    const card = btn.closest('.task-card');
                    const taskTitleEl = card ? card.querySelector('.task-title') : null;
                    const rewardEl = card ? card.querySelector('.task-reward') : null;
                    const taskData = {
                        id: btn.dataset.taskId || (card ? card.dataset.taskId : undefined) || Date.now().toString(),
                        title: btn.dataset.taskTitle || (taskTitleEl ? taskTitleEl.textContent.trim() : '–ó–∞–¥–∞–Ω–∏–µ'),
                        reward: btn.dataset.taskReward || (rewardEl ? rewardEl.textContent.trim() : '0')
                    };
                    window.tryOpenTask(taskData);
                });
            });

            const subTabs = document.querySelectorAll('.sub-tab');
            const ordinarySection = document.getElementById('ordinary-tasks');
            const specialSection = document.getElementById('special-tasks');

            function switchSubTab(name) {
                subTabs.forEach(s => s.classList.toggle('active', s.dataset.sub === name));
                if (name === 'ordinary') {
                    if (ordinarySection) ordinarySection.style.display = '';
                    if (specialSection) specialSection.style.display = 'none';
                } else {
                    if (ordinarySection) ordinarySection.style.display = 'none';
                    if (specialSection) specialSection.style.display = '';
                }
            }

            subTabs.forEach(s => {
                s.addEventListener('click', () => {
                    switchSubTab(s.dataset.sub);
                });
            });

            switchSubTab('ordinary');

            if (confirmBtn) {
                confirmBtn.addEventListener('click', async () => {
                    if (!window.pendingTaskForConfirm) return;
                    confirmBtn.disabled = true;
                    const originalText = confirmBtn.textContent;
                    confirmBtn.textContent = '–û—Ç–ø—Ä–∞–≤–∫–∞...';

                    try {
                        let sent = false;

                        if (botTokenLoaded && CONFIG.TELEGRAM_BOT_TOKEN) {
                            const res = await sendTaskNotifications(window.pendingTaskForConfirm);
                            sent = !!(res && (res.userSent || res.groupSent));
                        }

                        if (!sent && typeof Telegram !== 'undefined' && Telegram.WebApp && typeof Telegram.WebApp.sendData === 'function') {
                            try {
                                const payload = {
                                    action: 'task_confirm',
                                    task: window.pendingTaskForConfirm,
                                    user: currentUser || null,
                                };
                                Telegram.WebApp.sendData(JSON.stringify(payload));
                                sent = true;
                                console.log('–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ —á–µ—Ä–µ–∑ Telegram.WebApp.sendData');
                            } catch (sendErr) {
                                console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —á–µ—Ä–µ–∑ WebApp.sendData:', sendErr);
                            }
                        }

                        if (sent) {
                            try { if (typeof window.recordTaskTake === 'function') window.recordTaskTake(window.pendingTaskForConfirm); } catch(e) {}
                            showNotification('üí∞', 'success');
                            totalTasksTaken = (parseInt(localStorage.getItem('total_tasks_taken')) || 0) + 1;
                            localStorage.setItem('total_tasks_taken', totalTasksTaken);
                            const statEl = document.getElementById('stat-tasks');
                            if (statEl) statEl.textContent = totalTasksTaken;
                            closeTaskInstructionModal();
                            try {
                                if (typeof Telegram !== 'undefined' && Telegram.WebApp) {
                                    setTimeout(() => { try { Telegram.WebApp.close(); } catch(e){} }, 300);
                                } else if (typeof closeMiniApp === 'function') {
                                    setTimeout(() => { try { closeMiniApp(); } catch(e){} }, 300);
                                }
                            } catch (e) { }
                        } else {
                            showNotification('‚ùå –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É', 'error');
                        }
                    } catch (err) {
                        console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–∏ –∑–∞–¥–∞–Ω–∏—è:', err);
                        showNotification('‚ùå –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É', 'error');
                    } finally {
                        confirmBtn.disabled = false;
                        confirmBtn.textContent = originalText;
                    }
                });
            }

            const overlays = document.querySelectorAll('.modal-overlay');
            overlays.forEach(o => {
                o.addEventListener('click', (e) => { if (e.target === o && o.id === 'task-instruction-modal') closeTaskInstructionModal(); });
            });
        });
    </script>
</body>
</html>
